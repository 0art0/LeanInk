[{"contents":
  "import Mathlib.Tactic.Basic\n\nexample : ∀ a b : Nat, a = b → b = a := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"},
     {"type": "a = b", "names": ["h"], "body": "", "_type": "hypothesis"}],
    "conclusion": "b = a",
    "_type": "goal"}],
  "contents": "introv h",
  "_type": "sentence"},
 {"contents": "\n  exact h.symm\n\nexample (n : Nat) : n = n := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero",
    "hypotheses": [],
    "conclusion": "Nat.zero = Nat.zero",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["n✝"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Nat.succ n✝ = Nat.succ n✝",
    "_type": "goal"}],
  "contents": "induction n",
  "_type": "sentence"},
 {"contents":
  "\n  exacts [rfl, rfl]\n  exacts []\n\nexample (n : Nat) : Nat := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["n"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Nat",
    "_type": "goal"}],
  "contents": "guard_hyp n : Nat",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["n"], "body": "", "_type": "hypothesis"},
     {"type": "Nat", "names": ["m"], "body": "1", "_type": "hypothesis"}],
    "conclusion": "Nat",
    "_type": "goal"}],
  "contents": "let m : Nat := 1",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["n"], "body": "", "_type": "hypothesis"},
     {"type": "Nat", "names": ["m"], "body": "1", "_type": "hypothesis"}],
    "conclusion": "Nat",
    "_type": "goal"}],
  "contents": "guard_hyp m := 1",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["n"], "body": "", "_type": "hypothesis"},
     {"type": "Nat", "names": ["m"], "body": "1", "_type": "hypothesis"}],
    "conclusion": "Nat",
    "_type": "goal"}],
  "contents": "guard_hyp m : Nat := 1",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["n"], "body": "", "_type": "hypothesis"},
     {"type": "Nat", "names": ["m"], "body": "1", "_type": "hypothesis"}],
    "conclusion": "Nat",
    "_type": "goal"}],
  "contents": "guard_target == Nat",
  "_type": "sentence"},
 {"contents": "\n  exact 0\n\nexample (a b : Nat) : a ≠ b → ¬ a = b := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"}],
    "conclusion": "¬a = b",
    "_type": "goal"}],
  "contents": "intros",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"}],
    "conclusion": "¬a = b",
    "_type": "goal"},
   {"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"},
     {"type": "a = b", "names": ["H"], "body": "", "_type": "hypothesis"}],
    "conclusion": "False",
    "_type": "goal"},
   {"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"}],
    "conclusion": "¬a = b",
    "_type": "goal"}],
  "contents": "by_contra H",
  "_type": "sentence"},
 {"contents":
  "\n  contradiction\n\nexample (a b : Nat) : ¬¬ a = b → a = b := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"}],
    "conclusion": "a = b",
    "_type": "goal"}],
  "contents": "intros",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "h",
    "hypotheses":
    [{"type": "Nat", "names": ["a", "b"], "body": "", "_type": "hypothesis"},
     {"type": "¬a = b", "names": ["H"], "body": "", "_type": "hypothesis"}],
    "conclusion": "False",
    "_type": "goal"}],
  "contents": "by_contra H",
  "_type": "sentence"},
 {"contents": "\n  contradiction\n\nexample (p q : Prop) : ¬¬ p → p := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"}],
  "contents": "intros",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "h",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"},
     {"type": "¬p", "names": ["H"], "body": "", "_type": "hypothesis"}],
    "conclusion": "False",
    "_type": "goal"}],
  "contents": "by_contra H",
  "_type": "sentence"},
 {"contents":
  "\n  contradiction\n\n-- Test `iterate n ...`\nexample (n m : Nat) : Unit := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"}],
  "contents": "cases n",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero.zero",
    "hypotheses": [],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "zero.succ",
    "hypotheses": [],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"}],
  "contents": "cases m",
  "_type": "sentence"},
 {"contents": "\n  iterate 3 ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero.succ",
    "hypotheses": [],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"}],
  "contents": "exact ()",
  "_type": "sentence"},
 {"contents":
  "\n\n-- Test `iterate ...`, which should repeat until failure.\nexample (n m : Nat) : Unit := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"}],
  "contents": "cases n",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero.zero",
    "hypotheses": [],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "zero.succ",
    "hypotheses": [],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"}],
  "contents": "cases m",
  "_type": "sentence"},
 {"contents": "\n  iterate ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "zero.succ",
    "hypotheses": [],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"},
   {"name": "succ",
    "hypotheses":
    [{"type": "Nat", "names": ["m"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Unit",
    "_type": "goal"}],
  "contents": "exact ()",
  "_type": "sentence"},
 {"contents": "\n\nexample (n : Nat) : Nat := by\n  iterate ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Nat", "names": ["n"], "body": "", "_type": "hypothesis"}],
    "conclusion": "Nat",
    "_type": "goal"}],
  "contents": "exact ()",
  "_type": "sentence"},
 {"contents":
  " -- silently succeeds, after iterating 0 times\n  iterate exact n\n\nexample (p q r s : Prop) : p → q → r → s → (p ∧ q) ∧ (r ∧ s ∧ p) ∧ (p ∧ r ∧ q) := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "(p ∧ q) ∧ (r ∧ s ∧ p) ∧ p ∧ r ∧ q",
    "_type": "goal"}],
  "contents": "intros",
  "_type": "sentence"},
 {"contents": "\n  repeat' ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.right.right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"},
   {"name": "right.right.right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"},
   {"name": "right.right.right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"},
   {"name": "right.left.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"},
   {"name": "right.left.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "s ∧ p",
    "_type": "goal"},
   {"name": "right.right.right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"},
   {"name": "right.right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r ∧ q",
    "_type": "goal"},
   {"name": "right.left.right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.left.right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "s",
    "_type": "goal"},
   {"name": "right.left.right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "s",
    "_type": "goal"},
   {"name": "right.left.right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.left.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"},
   {"name": "left.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r ∧ s ∧ p",
    "_type": "goal"},
   {"name": "right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p ∧ r ∧ q",
    "_type": "goal"},
   {"name": "left.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"},
   {"name": "left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p ∧ q",
    "_type": "goal"},
   {"name": "right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "(r ∧ s ∧ p) ∧ p ∧ r ∧ q",
    "_type": "goal"},
   {"name": "left.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "left.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r", "s"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"}],
  "contents": "constructor",
  "_type": "sentence"},
 {"contents":
  "\n  repeat' assumption\n\nexample (p q : Prop) : p → q → (p ∧ q) ∧ (p ∧ q ∧ p) := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "(p ∧ q) ∧ p ∧ q ∧ p",
    "_type": "goal"}],
  "contents": "intros",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "left",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p ∧ q",
    "_type": "goal"},
   {"name": "right",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p ∧ q ∧ p",
    "_type": "goal"}],
  "contents": "constructor",
  "_type": "sentence"},
 {"contents": "\n  fail_if_success any_goals ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "left",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p ∧ q",
    "_type": "goal"},
   {"name": "right",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p ∧ q ∧ p",
    "_type": "goal"}],
  "contents": "assumption",
  "_type": "sentence"},
 {"contents": "\n  all_goals ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "left.left",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "left.right",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"},
   {"name": "right.left",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.right",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "q ∧ p",
    "_type": "goal"}],
  "contents": "constructor",
  "_type": "sentence"},
 {"contents": "\n  any_goals ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.right",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "q ∧ p",
    "_type": "goal"}],
  "contents": "assumption",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.right.left",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"},
   {"name": "right.right.right",
    "hypotheses":
    [{"type": "Prop", "names": ["p", "q"], "body": "", "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"}],
  "contents": "constructor",
  "_type": "sentence"},
 {"contents":
  "\n  any_goals assumption\n\n-- Verify correct behaviour of `work_on_goal`.\nexample (p q r : Prop) : p → q → r → p ∧ q ∧ r := by\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p ∧ q ∧ r",
    "_type": "goal"}],
  "contents": "intros",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q ∧ r",
    "_type": "goal"}],
  "contents": "constructor",
  "_type": "sentence"},
 {"contents": "\n  work_on_goal 1\n    ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q ∧ r",
    "_type": "goal"}],
  "contents": "guard_target == q ∧ r",
  "_type": "sentence"},
 {"contents": "\n    ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "q",
    "_type": "goal"},
   {"name": "right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"}],
  "contents": "constructor",
  "_type": "sentence"},
 {"contents": "\n    ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"}],
  "contents": "assumption",
  "_type": "sentence"},
 {"contents":
  "\n    -- Note that we have not closed all the subgoals here.\n  ",
  "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "left",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "p",
    "_type": "goal"},
   {"name": "right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"}],
  "contents": "guard_target == p",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"}],
  "contents": "assumption",
  "_type": "sentence"},
 {"contents": "\n  ", "_type": "text"},
 {"messages": [],
  "goals":
  [{"name": "right.right",
    "hypotheses":
    [{"type": "Prop",
      "names": ["p", "q", "r"],
      "body": "",
      "_type": "hypothesis"}],
    "conclusion": "r",
    "_type": "goal"}],
  "contents": "guard_target == r",
  "_type": "sentence"},
 {"contents": "\n  assumption", "_type": "text"}]