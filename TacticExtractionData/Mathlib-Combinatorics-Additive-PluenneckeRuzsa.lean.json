[{"tailPos":1752,"headPos":1727,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C))"],"content":"← card_product (A / B),"},{"tailPos":1792,"headPos":1753,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C))"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C)) * 1"],"content":"← mul_one ((A / B) ×ˢ (B / C)).card"},{"tailPos":1793,"headPos":1792,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C)) * 1"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C)) * 1"],"content":"]"},{"tailPos":1793,"headPos":1723,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C)) * 1"],"content":"rw [← card_product (A / B), ← mul_one ((A / B) ×ˢ (B / C)).card]"},{"tailPos":2001,"headPos":1796,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card ((A / B) ×ˢ (B / C)) * 1"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nx : α\nhx : x ∈ A / C\n⊢ card B ≤ card (bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) x)"],"content":"refine' card_mul_le_card_mul (fun b ac ↦ ac.1 * ac.2 = b) (fun x hx ↦ _)\n    fun x _ ↦ card_le_one_iff.2 fun hu hv ↦\n      ((mem_bipartiteBelow _).1 hu).2.symm.trans ((mem_bipartiteBelow _).1 hv).2"},{"tailPos":2050,"headPos":2004,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nx : α\nhx : x ∈ A / C\n⊢ card B ≤ card (bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) x)"],"goalsAfter":["case intro.intro.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\n⊢ card B ≤ card (bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c))"],"content":"obtain ⟨a, c, ha, hc, rfl⟩ := mem_div.1 hx"},{"tailPos":2153,"headPos":2053,"goalsBefore":["case intro.intro.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\n⊢ card B ≤ card (bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c))"],"goalsAfter":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)","case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"content":"refine' card_le_card_of_inj_on (fun b ↦ (a / b, b / c)) (fun b hb ↦ _) fun b₁ _ b₂ _ h ↦ _"},{"tailPos":2158,"headPos":2156,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)","case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"goalsAfter":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)"],"content":"·"},{"tailPos":2181,"headPos":2163,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)"],"goalsAfter":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ (A / B) ×ˢ (B / C) ∧\n    ((fun b => (a / b, b / c)) b).fst * ((fun b => (a / b, b / c)) b).snd = a / c"],"content":"mem_bipartiteAbove"},{"tailPos":2182,"headPos":2181,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ (A / B) ×ˢ (B / C) ∧\n    ((fun b => (a / b, b / c)) b).fst * ((fun b => (a / b, b / c)) b).snd = a / c"],"goalsAfter":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ (A / B) ×ˢ (B / C) ∧\n    ((fun b => (a / b, b / c)) b).fst * ((fun b => (a / b, b / c)) b).snd = a / c"],"content":"]"},{"tailPos":2182,"headPos":2159,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)"],"goalsAfter":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ (A / B) ×ˢ (B / C) ∧\n    ((fun b => (a / b, b / c)) b).fst * ((fun b => (a / b, b / c)) b).snd = a / c"],"content":"rw [mem_bipartiteAbove]"},{"tailPos":2280,"headPos":2187,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ (A / B) ×ˢ (B / C) ∧\n    ((fun b => (a / b, b / c)) b).fst * ((fun b => (a / b, b / c)) b).snd = a / c"],"goalsAfter":[],"content":"exact ⟨mk_mem_product (div_mem_div ha hb) (div_mem_div hb hc), div_mul_div_cancel' _ _ _⟩"},{"tailPos":2280,"headPos":2159,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)"],"goalsAfter":[],"content":"rw [mem_bipartiteAbove]\n    exact ⟨mk_mem_product (div_mem_div ha hb) (div_mem_div hb hc), div_mul_div_cancel' _ _ _⟩"},{"tailPos":2280,"headPos":2156,"goalsBefore":["case intro.intro.intro.intro.refine'_1\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb : α\nhb : b ∈ B\n⊢ (fun b => (a / b, b / c)) b ∈ bipartiteAbove (fun b ac => ac.fst * ac.snd = b) ((A / B) ×ˢ (B / C)) (a / c)","case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"goalsAfter":["case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"content":"· rw [mem_bipartiteAbove]\n    exact ⟨mk_mem_product (div_mem_div ha hb) (div_mem_div hb hc), div_mul_div_cancel' _ _ _⟩"},{"tailPos":2285,"headPos":2283,"goalsBefore":["case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"goalsAfter":["case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"content":"·"},{"tailPos":2332,"headPos":2286,"goalsBefore":["case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"goalsAfter":[],"content":"exact div_right_injective (Prod.ext_iff.1 h).1"},{"tailPos":2332,"headPos":2283,"goalsBefore":["case intro.intro.intro.intro.refine'_2\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\na c : α\nha : a ∈ A\nhc : c ∈ C\nhx : a / c ∈ A / C\nb₁ : α\nx✝¹ : b₁ ∈ B\nb₂ : α\nx✝ : b₂ ∈ B\nh : (fun b => (a / b, b / c)) b₁ = (fun b => (a / b, b / c)) b₂\n⊢ b₁ = b₂"],"goalsAfter":[],"content":"· exact div_right_injective (Prod.ext_iff.1 h).1"},{"tailPos":2332,"headPos":1723,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":[],"content":"rw [← card_product (A / B), ← mul_one ((A / B) ×ˢ (B / C)).card]\n  refine' card_mul_le_card_mul (fun b ac ↦ ac.1 * ac.2 = b) (fun x hx ↦ _)\n    fun x _ ↦ card_le_one_iff.2 fun hu hv ↦\n      ((mem_bipartiteBelow _).1 hu).2.symm.trans ((mem_bipartiteBelow _).1 hv).2\n  obtain ⟨a, c, ha, hc, rfl⟩ := mem_div.1 hx\n  refine' card_le_card_of_inj_on (fun b ↦ (a / b, b / c)) (fun b hb ↦ _) fun b₁ _ b₂ _ h ↦ _\n  · rw [mem_bipartiteAbove]\n    exact ⟨mk_mem_product (div_mem_div ha hb) (div_mem_div hb hc), div_mul_div_cancel' _ _ _⟩\n  · exact div_right_injective (Prod.ext_iff.1 h).1"},{"tailPos":1720,"headPos":1718,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":[],"content":"by"},{"tailPos":2332,"headPos":1718,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":[],"content":"by\n  rw [← card_product (A / B), ← mul_one ((A / B) ×ˢ (B / C)).card]\n  refine' card_mul_le_card_mul (fun b ac ↦ ac.1 * ac.2 = b) (fun x hx ↦ _)\n    fun x _ ↦ card_le_one_iff.2 fun hu hv ↦\n      ((mem_bipartiteBelow _).1 hu).2.symm.trans ((mem_bipartiteBelow _).1 hv).2\n  obtain ⟨a, c, ha, hc, rfl⟩ := mem_div.1 hx\n  refine' card_le_card_of_inj_on (fun b ↦ (a / b, b / c)) (fun b hb ↦ _) fun b₁ _ b₂ _ h ↦ _\n  · rw [mem_bipartiteAbove]\n    exact ⟨mk_mem_product (div_mem_div ha hb) (div_mem_div hb hc), div_mul_div_cancel' _ _ _⟩\n  · exact div_right_injective (Prod.ext_iff.1 h).1"},{"tailPos":2861,"headPos":2842,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B⁻¹) * card (B * C)"],"content":"← div_inv_eq_mul,"},{"tailPos":2877,"headPos":2862,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B⁻¹) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B * C)"],"content":"← card_inv B,"},{"tailPos":2899,"headPos":2878,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B * C)⁻¹"],"content":"← card_inv (B * C),"},{"tailPos":2908,"headPos":2900,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B * C)⁻¹"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ * C⁻¹)"],"content":"mul_inv,"},{"tailPos":2927,"headPos":2909,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ * C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ / C)"],"content":"← div_eq_mul_inv"},{"tailPos":2928,"headPos":2927,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ / C)"],"content":"]"},{"tailPos":2928,"headPos":2838,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ / C)"],"content":"rw [← div_inv_eq_mul, ← card_inv B, ← card_inv (B * C), mul_inv, ← div_eq_mul_inv]"},{"tailPos":2980,"headPos":2931,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B⁻¹ ≤ card (A / B⁻¹) * card (B⁻¹ / C)"],"goalsAfter":[],"content":"exact card_div_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":2980,"headPos":2838,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":[],"content":"rw [← div_inv_eq_mul, ← card_inv B, ← card_inv (B * C), mul_inv, ← div_eq_mul_inv]\n  exact card_div_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":2835,"headPos":2833,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":[],"content":"by"},{"tailPos":2980,"headPos":2833,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":[],"content":"by\n  rw [← div_inv_eq_mul, ← card_inv B, ← card_inv (B * C), mul_inv, ← div_eq_mul_inv]\n  exact card_div_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":3509,"headPos":3490,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B * C)"],"content":"← div_inv_eq_mul,"},{"tailPos":3530,"headPos":3510,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"← div_inv_eq_mul B"},{"tailPos":3531,"headPos":3530,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"]"},{"tailPos":3531,"headPos":3486,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"rw [← div_inv_eq_mul, ← div_inv_eq_mul B]"},{"tailPos":3583,"headPos":3534,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"goalsAfter":[],"content":"exact card_div_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":3583,"headPos":3486,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":[],"content":"rw [← div_inv_eq_mul, ← div_inv_eq_mul B]\n  exact card_div_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":3483,"headPos":3481,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":[],"content":"by"},{"tailPos":3583,"headPos":3481,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":[],"content":"by\n  rw [← div_inv_eq_mul, ← div_inv_eq_mul B]\n  exact card_div_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":4112,"headPos":4093,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B / C)"],"content":"← div_inv_eq_mul,"},{"tailPos":4129,"headPos":4113,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"content":"div_eq_mul_inv B"},{"tailPos":4130,"headPos":4129,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"content":"]"},{"tailPos":4130,"headPos":4089,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"content":"rw [← div_inv_eq_mul, div_eq_mul_inv B]"},{"tailPos":4182,"headPos":4133,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"goalsAfter":[],"content":"exact card_div_mul_le_card_mul_mul_card_mul _ _ _"},{"tailPos":4182,"headPos":4089,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":[],"content":"rw [← div_inv_eq_mul, div_eq_mul_inv B]\n  exact card_div_mul_le_card_mul_mul_card_mul _ _ _"},{"tailPos":4086,"headPos":4084,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":[],"content":"by"},{"tailPos":4182,"headPos":4084,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":[],"content":"by\n  rw [← div_inv_eq_mul, div_eq_mul_inv B]\n  exact card_div_mul_le_card_mul_mul_card_mul _ _ _"},{"tailPos":4651,"headPos":4599,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * C) * card A ≤ card (A * B) * card (A * C)"],"goalsAfter":["case empty\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * ∅) * card A ≤ card (A * B) * card (A * ∅)","case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"content":"induction' C using Finset.induction_on with x C _ ih"},{"tailPos":4656,"headPos":4654,"goalsBefore":["case empty\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * ∅) * card A ≤ card (A * B) * card (A * ∅)","case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"goalsAfter":["case empty\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * ∅) * card A ≤ card (A * B) * card (A * ∅)"],"content":"·"},{"tailPos":4661,"headPos":4657,"goalsBefore":["case empty\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * ∅) * card A ≤ card (A * B) * card (A * ∅)"],"goalsAfter":[],"content":"simp only [mul_empty, card_empty, zero_mul, mul_zero, le_refl]"},{"tailPos":4661,"headPos":4654,"goalsBefore":["case empty\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * ∅) * card A ≤ card (A * B) * card (A * ∅)","case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"content":"· simp"},{"tailPos":4702,"headPos":4664,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"content":"set A' := A ∩ (A * C / {x}) with hA'"},{"tailPos":4734,"headPos":4705,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\n⊢ card (A * B * insert x C) * card A ≤ card (A * B) * card (A * insert x C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"content":"set C' := insert x C with hC'"},{"tailPos":4798,"headPos":4794,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A' * {x} = A * {x} ∩ (A * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A ∩ (A * C / {x}) * {x} = A * {x} ∩ (A * C)"],"content":"hA',"},{"tailPos":4819,"headPos":4799,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A ∩ (A * C / {x}) * {x} = A * {x} ∩ (A * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A * {x} ∩ (A * C / {x} * {x}) = A * {x} ∩ (A * C)"],"content":"inter_mul_singleton,"},{"tailPos":4855,"headPos":4820,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A * {x} ∩ (A * C / {x} * {x}) = A * {x} ∩ (A * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A * {x} ∩ (A * C) = A * {x} ∩ (A * C)"],"content":"(isUnit_singleton x).div_mul_cancel"},{"tailPos":4856,"headPos":4855,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A * {x} ∩ (A * C) = A * {x} ∩ (A * C)"],"goalsAfter":[],"content":"]"},{"tailPos":4856,"headPos":4790,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A' * {x} = A * {x} ∩ (A * C)"],"goalsAfter":[],"content":"rw [hA', inter_mul_singleton, (isUnit_singleton x).div_mul_cancel]"},{"tailPos":4785,"headPos":4783,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A' * {x} = A * {x} ∩ (A * C)"],"goalsAfter":[],"content":"by"},{"tailPos":4856,"headPos":4783,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ A' * {x} = A * {x} ∩ (A * C)"],"goalsAfter":[],"content":"by\n    rw [hA', inter_mul_singleton, (isUnit_singleton x).div_mul_cancel]"},{"tailPos":4856,"headPos":4737,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"content":"have h₀ : A' * {x} = A * {x} ∩ (A * C) := by\n    rw [hA', inter_mul_singleton, (isUnit_singleton x).div_mul_cancel]"},{"tailPos":4947,"headPos":4943,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * insert x C = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"content":"hC',"},{"tailPos":4958,"headPos":4948,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * insert x C = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * ({x} ∪ C) = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"content":"insert_eq,"},{"tailPos":4970,"headPos":4959,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * ({x} ∪ C) = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * (C ∪ {x}) = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"content":"union_comm,"},{"tailPos":4980,"headPos":4971,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * (C ∪ {x}) = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C ∪ A * B * {x} = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"content":"mul_union"},{"tailPos":4981,"headPos":4980,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C ∪ A * B * {x} = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C ∪ A * B * {x} = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"content":"]"},{"tailPos":4981,"headPos":4939,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C ∪ A * B * {x} = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"content":"rw [hC', insert_eq, union_comm, mul_union]"},{"tailPos":5019,"headPos":4986,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C ∪ A * B * {x} = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * B * {x} ≤ A * B * C"],"content":"refine' (sup_sdiff_eq_sup _).symm"},{"tailPos":5043,"headPos":5028,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * B * {x} ≤ A * B * C"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * {x} * B ≤ A * B * C"],"content":"mul_right_comm,"},{"tailPos":5061,"headPos":5044,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * {x} * B ≤ A * B * C"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * {x} * B ≤ A * C * B"],"content":"mul_right_comm A,"},{"tailPos":5066,"headPos":5062,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * {x} * B ≤ A * C * B"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * {x} ∩ (A * C) * B ≤ A * C * B"],"content":"h₀"},{"tailPos":5067,"headPos":5066,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * {x} ∩ (A * C) * B ≤ A * C * B"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * {x} ∩ (A * C) * B ≤ A * C * B"],"content":"]"},{"tailPos":5067,"headPos":5024,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A' * B * {x} ≤ A * B * C"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * {x} ∩ (A * C) * B ≤ A * C * B"],"content":"rw [mul_right_comm, mul_right_comm A, h₀]"},{"tailPos":5123,"headPos":5072,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * {x} ∩ (A * C) * B ≤ A * C * B"],"goalsAfter":[],"content":"exact mul_subset_mul_right (inter_subset_right _ _)"},{"tailPos":5123,"headPos":4939,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":[],"content":"rw [hC', insert_eq, union_comm, mul_union]\n    refine' (sup_sdiff_eq_sup _).symm\n    rw [mul_right_comm, mul_right_comm A, h₀]\n    exact mul_subset_mul_right (inter_subset_right _ _)"},{"tailPos":4934,"headPos":4932,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":[],"content":"by"},{"tailPos":5123,"headPos":4932,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})"],"goalsAfter":[],"content":"by\n    rw [hC', insert_eq, union_comm, mul_union]\n    refine' (sup_sdiff_eq_sup _).symm\n    rw [mul_right_comm, mul_right_comm A, h₀]\n    exact mul_subset_mul_right (inter_subset_right _ _)"},{"tailPos":5123,"headPos":4859,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"content":"have h₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x}) := by\n    rw [hC', insert_eq, union_comm, mul_union]\n    refine' (sup_sdiff_eq_sup _).symm\n    rw [mul_right_comm, mul_right_comm A, h₀]\n    exact mul_subset_mul_right (inter_subset_right _ _)"},{"tailPos":5242,"headPos":5126,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"content":"have h₂ : A' * B * {x} ⊆ A * B * {x} :=\n    mul_subset_mul_right (mul_subset_mul_right <| inter_subset_left _ _)"},{"tailPos":5345,"headPos":5341,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})) ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"content":"h₁"},{"tailPos":5346,"headPos":5345,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})) ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})) ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"content":"]"},{"tailPos":5346,"headPos":5337,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})) ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"content":"rw [h₁]"},{"tailPos":5389,"headPos":5351,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})) ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card ((A * B * {x}) \\ (A' * B * {x})) = card (A * B * C) + card (A * B) - card (A' * B)"],"content":"refine' (card_union_le _ _).trans_eq _"},{"tailPos":5414,"headPos":5398,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card ((A * B * {x}) \\ (A' * B * {x})) = card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + (card (A * B * {x}) - card (A' * B * {x})) = card (A * B * C) + card (A * B) - card (A' * B)"],"content":"card_sdiff h₂,"},{"tailPos":5465,"headPos":5415,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + (card (A * B * {x}) - card (A' * B * {x})) = card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card (A * B * {x}) - card (A' * B * {x}) = card (A * B * C) + card (A * B) - card (A' * B)"],"content":"← add_tsub_assoc_of_le (card_le_of_subset h₂),"},{"tailPos":5485,"headPos":5466,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card (A * B * {x}) - card (A' * B * {x}) = card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card (A * B) - card (A' * B * {x}) = card (A * B * C) + card (A * B) - card (A' * B)"],"content":"card_mul_singleton,"},{"tailPos":5510,"headPos":5492,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card (A * B) - card (A' * B * {x}) = card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card (A * B) - card (A' * B) = card (A * B * C) + card (A * B) - card (A' * B)"],"content":"card_mul_singleton"},{"tailPos":5511,"headPos":5510,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card (A * B) - card (A' * B) = card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":[],"content":"]"},{"tailPos":5511,"headPos":5394,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C) + card ((A * B * {x}) \\ (A' * B * {x})) = card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":[],"content":"rw [card_sdiff h₂, ← add_tsub_assoc_of_le (card_le_of_subset h₂), card_mul_singleton,\n      card_mul_singleton]"},{"tailPos":5511,"headPos":5337,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":[],"content":"rw [h₁]\n    refine' (card_union_le _ _).trans_eq _\n    rw [card_sdiff h₂, ← add_tsub_assoc_of_le (card_le_of_subset h₂), card_mul_singleton,\n      card_mul_singleton]"},{"tailPos":5332,"headPos":5330,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":[],"content":"by"},{"tailPos":5511,"headPos":5330,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)"],"goalsAfter":[],"content":"by\n    rw [h₁]\n    refine' (card_union_le _ _).trans_eq _\n    rw [card_sdiff h₂, ← add_tsub_assoc_of_le (card_le_of_subset h₂), card_mul_singleton,\n      card_mul_singleton]"},{"tailPos":5511,"headPos":5245,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"content":"have h₃ : (A * B * C').card ≤ (A * B * C).card + (A * B).card - (A' * B).card := by\n    rw [h₁]\n    refine' (card_union_le _ _).trans_eq _\n    rw [card_sdiff h₂, ← add_tsub_assoc_of_le (card_le_of_subset h₂), card_mul_singleton,\n      card_mul_singleton]"},{"tailPos":5556,"headPos":5514,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C') * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ (card (A * B * C) + card (A * B) - card (A' * B)) * card A ≤ card (A * B) * card (A * C')"],"content":"refine' (mul_le_mul_right' h₃ _).trans _"},{"tailPos":5572,"headPos":5563,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ (card (A * B * C) + card (A * B) - card (A' * B)) * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ (card (A * B * C) + card (A * B)) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"content":"tsub_mul,"},{"tailPos":5580,"headPos":5573,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ (card (A * B * C) + card (A * B)) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C) * card A + card (A * B) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"content":"add_mul"},{"tailPos":5581,"headPos":5580,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C) * card A + card (A * B) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C) * card A + card (A * B) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"content":"]"},{"tailPos":5581,"headPos":5559,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ (card (A * B * C) + card (A * B) - card (A' * B)) * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C) * card A + card (A * B) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"content":"rw [tsub_mul, add_mul]"},{"tailPos":5674,"headPos":5584,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B * C) * card A + card (A * B) * card A - card (A' * B) * card A ≤ card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * card (A * C) + card (A * B) * card A - card (A * B) * card (A ∩ (A * C / {x})) =\n    card (A * B) * card (A * C')"],"content":"refine' (tsub_le_tsub (add_le_add_right ih _) <| hA _ <| inter_subset_left _ _).trans_eq _"},{"tailPos":5693,"headPos":5681,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * card (A * C) + card (A * B) * card A - card (A * B) * card (A ∩ (A * C / {x})) =\n    card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A) - card (A * B) * card (A ∩ (A * C / {x})) = card (A * B) * card (A * C')"],"content":"← mul_add,"},{"tailPos":5707,"headPos":5694,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A) - card (A * B) * card (A ∩ (A * C / {x})) = card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card (A ∩ (A * C / {x}))) = card (A * B) * card (A * C')"],"content":"← mul_tsub,"},{"tailPos":5716,"headPos":5708,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card (A ∩ (A * C / {x}))) = card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * C')"],"content":"← hA',"},{"tailPos":5721,"headPos":5717,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * C')"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * insert x C)"],"content":"hC',"},{"tailPos":5732,"headPos":5722,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * insert x C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * ({x} ∪ C))"],"content":"insert_eq,"},{"tailPos":5743,"headPos":5733,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * ({x} ∪ C))"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * {x} ∪ A * C)"],"content":"mul_union,"},{"tailPos":5771,"headPos":5744,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card A - card A') = card (A * B) * card (A * {x} ∪ A * C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card (A * {x}) - card A') = card (A * B) * card (A * {x} ∪ A * C)"],"content":"← card_mul_singleton A x,"},{"tailPos":5804,"headPos":5772,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card (A * {x}) - card A') = card (A * B) * card (A * {x} ∪ A * C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card (A * {x}) - card (A' * {x})) = card (A * B) * card (A * {x} ∪ A * C)"],"content":"←\n    card_mul_singleton A' x,"},{"tailPos":5823,"headPos":5805,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * C) + card (A * {x}) - card (A' * {x})) = card (A * B) * card (A * {x} ∪ A * C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * {x}) + card (A * C) - card (A' * {x})) = card (A * B) * card (A * {x} ∪ A * C)"],"content":"add_comm (card _),"},{"tailPos":5829,"headPos":5824,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * {x}) + card (A * C) - card (A' * {x})) = card (A * B) * card (A * {x} ∪ A * C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * {x}) + card (A * C) - card (A * {x} ∩ (A * C))) = card (A * B) * card (A * {x} ∪ A * C)"],"content":"h₀,"},{"tailPos":5883,"headPos":5834,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * {x}) + card (A * C) - card (A * {x} ∩ (A * C))) = card (A * B) * card (A * {x} ∪ A * C)"],"goalsAfter":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * {x}) + card (A * C) - card (A * {x} ∩ (A * C))) =\n    card (A * B) * (card (A * {x}) + card (A * C) - card (A * {x} ∩ (A * C)))"],"content":"eq_tsub_of_add_eq (card_union_add_card_inter _ _)"},{"tailPos":5884,"headPos":5883,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * (card (A * {x}) + card (A * C) - card (A * {x} ∩ (A * C))) =\n    card (A * B) * (card (A * {x}) + card (A * C) - card (A * {x} ∩ (A * C)))"],"goalsAfter":[],"content":"]"},{"tailPos":5884,"headPos":5677,"goalsBefore":["case insert\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nx : α\nC : Finset α\na✝ : ¬x ∈ C\nih : card (A * B * C) * card A ≤ card (A * B) * card (A * C)\nA' : Finset α := A ∩ (A * C / {x})\nhA' : A' = A ∩ (A * C / {x})\nC' : Finset α := insert x C\nhC' : C' = insert x C\nh₀ : A' * {x} = A * {x} ∩ (A * C)\nh₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x})\nh₂ : A' * B * {x} ⊆ A * B * {x}\nh₃ : card (A * B * C') ≤ card (A * B * C) + card (A * B) - card (A' * B)\n⊢ card (A * B) * card (A * C) + card (A * B) * card A - card (A * B) * card (A ∩ (A * C / {x})) =\n    card (A * B) * card (A * C')"],"goalsAfter":[],"content":"rw [← mul_add, ← mul_tsub, ← hA', hC', insert_eq, mul_union, ← card_mul_singleton A x, ←\n    card_mul_singleton A' x, add_comm (card _), h₀,\n    eq_tsub_of_add_eq (card_union_add_card_inter _ _)]"},{"tailPos":5884,"headPos":4599,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * C) * card A ≤ card (A * B) * card (A * C)"],"goalsAfter":[],"content":"induction' C using Finset.induction_on with x C _ ih\n  · simp\n  set A' := A ∩ (A * C / {x}) with hA'\n  set C' := insert x C with hC'\n  have h₀ : A' * {x} = A * {x} ∩ (A * C) := by\n    rw [hA', inter_mul_singleton, (isUnit_singleton x).div_mul_cancel]\n  have h₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x}) := by\n    rw [hC', insert_eq, union_comm, mul_union]\n    refine' (sup_sdiff_eq_sup _).symm\n    rw [mul_right_comm, mul_right_comm A, h₀]\n    exact mul_subset_mul_right (inter_subset_right _ _)\n  have h₂ : A' * B * {x} ⊆ A * B * {x} :=\n    mul_subset_mul_right (mul_subset_mul_right <| inter_subset_left _ _)\n  have h₃ : (A * B * C').card ≤ (A * B * C).card + (A * B).card - (A' * B).card := by\n    rw [h₁]\n    refine' (card_union_le _ _).trans_eq _\n    rw [card_sdiff h₂, ← add_tsub_assoc_of_le (card_le_of_subset h₂), card_mul_singleton,\n      card_mul_singleton]\n  refine' (mul_le_mul_right' h₃ _).trans _\n  rw [tsub_mul, add_mul]\n  refine' (tsub_le_tsub (add_le_add_right ih _) <| hA _ <| inter_subset_left _ _).trans_eq _\n  rw [← mul_add, ← mul_tsub, ← hA', hC', insert_eq, mul_union, ← card_mul_singleton A x, ←\n    card_mul_singleton A' x, add_comm (card _), h₀,\n    eq_tsub_of_add_eq (card_union_add_card_inter _ _)]"},{"tailPos":4596,"headPos":4594,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * C) * card A ≤ card (A * B) * card (A * C)"],"goalsAfter":[],"content":"by"},{"tailPos":5884,"headPos":4594,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C✝ C : Finset α\nhA : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\n⊢ card (A * B * C) * card A ≤ card (A * B) * card (A * C)"],"goalsAfter":[],"content":"by\n  induction' C using Finset.induction_on with x C _ ih\n  · simp\n  set A' := A ∩ (A * C / {x}) with hA'\n  set C' := insert x C with hC'\n  have h₀ : A' * {x} = A * {x} ∩ (A * C) := by\n    rw [hA', inter_mul_singleton, (isUnit_singleton x).div_mul_cancel]\n  have h₁ : A * B * C' = A * B * C ∪ (A * B * {x}) \\ (A' * B * {x}) := by\n    rw [hC', insert_eq, union_comm, mul_union]\n    refine' (sup_sdiff_eq_sup _).symm\n    rw [mul_right_comm, mul_right_comm A, h₀]\n    exact mul_subset_mul_right (inter_subset_right _ _)\n  have h₂ : A' * B * {x} ⊆ A * B * {x} :=\n    mul_subset_mul_right (mul_subset_mul_right <| inter_subset_left _ _)\n  have h₃ : (A * B * C').card ≤ (A * B * C).card + (A * B).card - (A' * B).card := by\n    rw [h₁]\n    refine' (card_union_le _ _).trans_eq _\n    rw [card_sdiff h₂, ← add_tsub_assoc_of_le (card_le_of_subset h₂), card_mul_singleton,\n      card_mul_singleton]\n  refine' (mul_le_mul_right' h₃ _).trans _\n  rw [tsub_mul, add_mul]\n  refine' (tsub_le_tsub (add_le_add_right ih _) <| hA _ <| inter_subset_left _ _).trans_eq _\n  rw [← mul_add, ← mul_tsub, ← hA', hC', insert_eq, mul_union, ← card_mul_singleton A x, ←\n    card_mul_singleton A' x, add_comm (card _), h₀,\n    eq_tsub_of_add_eq (card_union_add_card_inter _ _)]"},{"tailPos":6441,"headPos":6427,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\n⊢ ∀ (A' : Finset α), A' ⊆ A → card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"content":"rintro A' hAA'"},{"tailPos":6487,"headPos":6444,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nhAA' : ∅ ⊆ A\n⊢ card (A * C) * card ∅ ≤ card (∅ * C) * card A","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"content":"obtain rfl | hA' := A'.eq_empty_or_nonempty"},{"tailPos":6492,"headPos":6490,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nhAA' : ∅ ⊆ A\n⊢ card (A * C) * card ∅ ≤ card (∅ * C) * card A","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nhAA' : ∅ ⊆ A\n⊢ card (A * C) * card ∅ ≤ card (∅ * C) * card A"],"content":"·"},{"tailPos":6497,"headPos":6493,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nhAA' : ∅ ⊆ A\n⊢ card (A * C) * card ∅ ≤ card (∅ * C) * card A"],"goalsAfter":[],"content":"simp only [card_empty, mul_zero, empty_mul, zero_mul, le_refl]"},{"tailPos":6497,"headPos":6490,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nhAA' : ∅ ⊆ A\n⊢ card (A * C) * card ∅ ≤ card (∅ * C) * card A","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"content":"· simp"},{"tailPos":6561,"headPos":6500,"goalsBefore":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\nhA₀ : 0 < ↑(card A)\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"content":"have hA₀ : (0 : ℚ≥0) < A.card := cast_pos.2 hA.card_pos"},{"tailPos":6628,"headPos":6564,"goalsBefore":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\nhA₀ : 0 < ↑(card A)\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\nhA₀ : 0 < ↑(card A)\nhA₀' : 0 < ↑(card A')\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"content":"have hA₀' : (0 : ℚ≥0) < A'.card := cast_pos.2 hA'.card_pos"},{"tailPos":6768,"headPos":6631,"goalsBefore":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\nA' : Finset α\nhAA' : A' ⊆ A\nhA' : Finset.Nonempty A'\nhA₀ : 0 < ↑(card A)\nhA₀' : 0 < ↑(card A')\n⊢ card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":[],"content":"exact_mod_cast\n    (div_le_div_iff hA₀ hA₀').1\n      (h _ <| mem_erase_of_ne_of_mem hA'.ne_empty <| mem_powerset.2 <| hAA'.trans hAB)"},{"tailPos":6768,"headPos":6427,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\n⊢ ∀ (A' : Finset α), A' ⊆ A → card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":[],"content":"rintro A' hAA'\n  obtain rfl | hA' := A'.eq_empty_or_nonempty\n  · simp\n  have hA₀ : (0 : ℚ≥0) < A.card := cast_pos.2 hA.card_pos\n  have hA₀' : (0 : ℚ≥0) < A'.card := cast_pos.2 hA'.card_pos\n  exact_mod_cast\n    (div_le_div_iff hA₀ hA₀').1\n      (h _ <| mem_erase_of_ne_of_mem hA'.ne_empty <| mem_powerset.2 <| hAA'.trans hAB)"},{"tailPos":6424,"headPos":6422,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\n⊢ ∀ (A' : Finset α), A' ⊆ A → card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":[],"content":"by"},{"tailPos":6768,"headPos":6422,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhA : Finset.Nonempty A\nhAB : A ⊆ B\nh : ∀ (A' : Finset α), A' ∈ erase (powerset B) ∅ → ↑(card (A * C)) / ↑(card A) ≤ ↑(card (A' * C)) / ↑(card A')\n⊢ ∀ (A' : Finset α), A' ⊆ A → card (A * C) * card A' ≤ card (A' * C) * card A"],"goalsAfter":[],"content":"by\n  rintro A' hAA'\n  obtain rfl | hA' := A'.eq_empty_or_nonempty\n  · simp\n  have hA₀ : (0 : ℚ≥0) < A.card := cast_pos.2 hA.card_pos\n  have hA₀' : (0 : ℚ≥0) < A'.card := cast_pos.2 hA'.card_pos\n  exact_mod_cast\n    (div_le_div_iff hA₀ hA₀').1\n      (h _ <| mem_erase_of_ne_of_mem hA'.ne_empty <| mem_powerset.2 <| hAA'.trans hAB)"},{"tailPos":7131,"headPos":7090,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B C✝ A C : Finset α\n⊢ card (A * C) * card ∅ ≤ card (A * ∅) * card (∅ * C)","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"obtain rfl | hB := B.eq_empty_or_nonempty"},{"tailPos":7136,"headPos":7134,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B C✝ A C : Finset α\n⊢ card (A * C) * card ∅ ≤ card (A * ∅) * card (∅ * C)","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B C✝ A C : Finset α\n⊢ card (A * C) * card ∅ ≤ card (A * ∅) * card (∅ * C)"],"content":"·"},{"tailPos":7141,"headPos":7137,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B C✝ A C : Finset α\n⊢ card (A * C) * card ∅ ≤ card (A * ∅) * card (∅ * C)"],"goalsAfter":[],"content":"simp only [card_empty, mul_zero, mul_empty, empty_mul, le_refl]"},{"tailPos":7141,"headPos":7134,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B C✝ A C : Finset α\n⊢ card (A * C) * card ∅ ≤ card (A * ∅) * card (∅ * C)","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"· simp"},{"tailPos":7241,"headPos":7144,"goalsBefore":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"have hB' : B ∈ B.powerset.erase ∅ := mem_erase_of_ne_of_mem hB.ne_empty (mem_powerset_self _)"},{"tailPos":7377,"headPos":7244,"goalsBefore":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ∈ erase (powerset B) ∅\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"obtain ⟨U, hU, hUA⟩ :=\n    exists_min_image (B.powerset.erase ∅) (fun U ↦ (U * A).card / U.card : _ → ℚ≥0) ⟨B, hB'⟩"},{"tailPos":7394,"headPos":7384,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ∈ erase (powerset B) ∅\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ≠ ∅ ∧ U ∈ powerset B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"mem_erase,"},{"tailPos":7408,"headPos":7395,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ≠ ∅ ∧ U ∈ powerset B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ≠ ∅ ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"mem_powerset,"},{"tailPos":7434,"headPos":7409,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ≠ ∅ ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"← nonempty_iff_ne_empty"},{"tailPos":7435,"headPos":7434,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"]"},{"tailPos":7441,"headPos":7380,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : U ∈ erase (powerset B) ∅\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"content":"rw [mem_erase, mem_powerset, ← nonempty_iff_ne_empty] at hU"},{"tailPos":7487,"headPos":7444,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C) * card B) ≤ ↑(card (A * B) * card (B * C))"],"content":"refine' cast_le.1 (_ : (_ : ℚ≥0) ≤ _)"},{"tailPos":7499,"headPos":7490,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C) * card B) ≤ ↑(card (A * B) * card (B * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) * ↑(card B) ≤ ↑(card (A * B)) * ↑(card (B * C))"],"content":"push_cast"},{"tailPos":7552,"headPos":7502,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) * ↑(card B) ≤ ↑(card (A * B)) * ↑(card (B * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (A * B)) * ↑(card (B * C)) / ↑(card B)"],"content":"refine' (le_div_iff <| cast_pos.2 hB.card_pos).1 _"},{"tailPos":7578,"headPos":7559,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (A * B)) * ↑(card (B * C)) / ↑(card B)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (A * B)) / ↑(card B) * ↑(card (B * C))"],"content":"mul_div_right_comm,"},{"tailPos":7591,"headPos":7579,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (A * B)) / ↑(card B) * ↑(card (B * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"content":"mul_comm _ B"},{"tailPos":7592,"headPos":7591,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"content":"]"},{"tailPos":7592,"headPos":7555,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (A * B)) * ↑(card (B * C)) / ↑(card B)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"content":"rw [mul_div_right_comm, mul_comm _ B]"},{"tailPos":7654,"headPos":7595,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (A * C)) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"content":"refine' (cast_le.2 <| card_le_card_mul_left _ hU.1).trans _"},{"tailPos":7796,"headPos":7657,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (B * A)) / ↑(card B) * ↑(card (B * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (U * A)) / ↑(card U) * ↑(card (U * C))"],"content":"refine' le_trans _\n    (mul_le_mul (hUA _ hB') (cast_le.2 <| card_le_of_subset <| mul_subset_mul_right hU.2)\n      (zero_le _) (zero_le _))"},{"tailPos":7826,"headPos":7803,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (U * A)) / ↑(card U) * ↑(card (U * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"content":"← mul_div_right_comm,"},{"tailPos":7840,"headPos":7827,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"content":"← mul_assoc"},{"tailPos":7841,"headPos":7840,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"content":"]"},{"tailPos":7841,"headPos":7799,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * (A * C))) ≤ ↑(card (U * A)) / ↑(card U) * ↑(card (U * C))"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"content":"rw [← mul_div_right_comm, ← mul_assoc]"},{"tailPos":7896,"headPos":7844,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) ≤ ↑(card (U * A)) * ↑(card (U * C)) / ↑(card U)"],"goalsAfter":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) * ↑(card U) ≤ ↑(card (U * A)) * ↑(card (U * C))"],"content":"refine' (le_div_iff <| cast_pos.2 hU.1.card_pos).2 _"},{"tailPos":7963,"headPos":7899,"goalsBefore":["case inr.intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\nhB : Finset.Nonempty B\nhB' : B ∈ erase (powerset B) ∅\nU : Finset α\nhU : Finset.Nonempty U ∧ U ⊆ B\nhUA : ∀ (x' : Finset α), x' ∈ erase (powerset B) ∅ → ↑(card (U * A)) / ↑(card U) ≤ ↑(card (x' * A)) / ↑(card x')\n⊢ ↑(card (U * A * C)) * ↑(card U) ≤ ↑(card (U * A)) * ↑(card (U * C))"],"goalsAfter":[],"content":"exact_mod_cast mul_pluennecke_petridis C (mul_aux hU.1 hU.2 hUA)"},{"tailPos":7963,"headPos":7090,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":[],"content":"obtain rfl | hB := B.eq_empty_or_nonempty\n  · simp\n  have hB' : B ∈ B.powerset.erase ∅ := mem_erase_of_ne_of_mem hB.ne_empty (mem_powerset_self _)\n  obtain ⟨U, hU, hUA⟩ :=\n    exists_min_image (B.powerset.erase ∅) (fun U ↦ (U * A).card / U.card : _ → ℚ≥0) ⟨B, hB'⟩\n  rw [mem_erase, mem_powerset, ← nonempty_iff_ne_empty] at hU\n  refine' cast_le.1 (_ : (_ : ℚ≥0) ≤ _)\n  push_cast\n  refine' (le_div_iff <| cast_pos.2 hB.card_pos).1 _\n  rw [mul_div_right_comm, mul_comm _ B]\n  refine' (cast_le.2 <| card_le_card_mul_left _ hU.1).trans _\n  refine' le_trans _\n    (mul_le_mul (hUA _ hB') (cast_le.2 <| card_le_of_subset <| mul_subset_mul_right hU.2)\n      (zero_le _) (zero_le _))\n  rw [← mul_div_right_comm, ← mul_assoc]\n  refine' (le_div_iff <| cast_pos.2 hU.1.card_pos).2 _\n  exact_mod_cast mul_pluennecke_petridis C (mul_aux hU.1 hU.2 hUA)"},{"tailPos":7087,"headPos":7085,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":[],"content":"by"},{"tailPos":7963,"headPos":7085,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B) * card (B * C)"],"goalsAfter":[],"content":"by\n  obtain rfl | hB := B.eq_empty_or_nonempty\n  · simp\n  have hB' : B ∈ B.powerset.erase ∅ := mem_erase_of_ne_of_mem hB.ne_empty (mem_powerset_self _)\n  obtain ⟨U, hU, hUA⟩ :=\n    exists_min_image (B.powerset.erase ∅) (fun U ↦ (U * A).card / U.card : _ → ℚ≥0) ⟨B, hB'⟩\n  rw [mem_erase, mem_powerset, ← nonempty_iff_ne_empty] at hU\n  refine' cast_le.1 (_ : (_ : ℚ≥0) ≤ _)\n  push_cast\n  refine' (le_div_iff <| cast_pos.2 hB.card_pos).1 _\n  rw [mul_div_right_comm, mul_comm _ B]\n  refine' (cast_le.2 <| card_le_card_mul_left _ hU.1).trans _\n  refine' le_trans _\n    (mul_le_mul (hUA _ hB') (cast_le.2 <| card_le_of_subset <| mul_subset_mul_right hU.2)\n      (zero_le _) (zero_le _))\n  rw [← mul_div_right_comm, ← mul_assoc]\n  refine' (le_div_iff <| cast_pos.2 hU.1.card_pos).2 _\n  exact_mod_cast mul_pluennecke_petridis C (mul_aux hU.1 hU.2 hUA)"},{"tailPos":8393,"headPos":8378,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B⁻¹) * card (B / C)"],"content":"div_eq_mul_inv,"},{"tailPos":8409,"headPos":8394,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A * B⁻¹) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B / C)"],"content":"← card_inv B,"},{"tailPos":8431,"headPos":8410,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B / C)⁻¹"],"content":"← card_inv (B / C),"},{"tailPos":8441,"headPos":8432,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B / C)⁻¹"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ / C⁻¹)"],"content":"inv_div',"},{"tailPos":8456,"headPos":8442,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ / C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ * C)"],"content":"div_inv_eq_mul"},{"tailPos":8457,"headPos":8456,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ * C)"],"content":"]"},{"tailPos":8457,"headPos":8374,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ * C)"],"content":"rw [div_eq_mul_inv, ← card_inv B, ← card_inv (B / C), inv_div', div_inv_eq_mul]"},{"tailPos":8514,"headPos":8460,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B⁻¹ ≤ card (A * B⁻¹) * card (B⁻¹ * C)"],"goalsAfter":[],"content":"exact card_mul_mul_card_le_card_mul_mul_card_mul _ _ _"},{"tailPos":8514,"headPos":8374,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":[],"content":"rw [div_eq_mul_inv, ← card_inv B, ← card_inv (B / C), inv_div', div_inv_eq_mul]\n  exact card_mul_mul_card_le_card_mul_mul_card_mul _ _ _"},{"tailPos":8371,"headPos":8369,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":[],"content":"by"},{"tailPos":8514,"headPos":8369,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C) * card B ≤ card (A / B) * card (B / C)"],"goalsAfter":[],"content":"by\n  rw [div_eq_mul_inv, ← card_inv B, ← card_inv (B / C), inv_div', div_inv_eq_mul]\n  exact card_mul_mul_card_le_card_mul_mul_card_mul _ _ _"},{"tailPos":8827,"headPos":8812,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B / C)"],"content":"div_eq_mul_inv,"},{"tailPos":8842,"headPos":8828,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"content":"div_eq_mul_inv"},{"tailPos":8843,"headPos":8842,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"content":"]"},{"tailPos":8843,"headPos":8808,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"content":"rw [div_eq_mul_inv, div_eq_mul_inv]"},{"tailPos":8900,"headPos":8846,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A * B) * card (B * C⁻¹)"],"goalsAfter":[],"content":"exact card_mul_mul_card_le_card_mul_mul_card_mul _ _ _"},{"tailPos":8900,"headPos":8808,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":[],"content":"rw [div_eq_mul_inv, div_eq_mul_inv]\n  exact card_mul_mul_card_le_card_mul_mul_card_mul _ _ _"},{"tailPos":8805,"headPos":8803,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":[],"content":"by"},{"tailPos":8900,"headPos":8803,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A * B) * card (B / C)"],"goalsAfter":[],"content":"by\n  rw [div_eq_mul_inv, div_eq_mul_inv]\n  exact card_mul_mul_card_le_card_mul_mul_card_mul _ _ _"},{"tailPos":9217,"headPos":9198,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"← div_inv_eq_mul,"},{"tailPos":9232,"headPos":9218,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B / C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"div_eq_mul_inv"},{"tailPos":9233,"headPos":9232,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"]"},{"tailPos":9233,"headPos":9194,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"content":"rw [← div_inv_eq_mul, div_eq_mul_inv]"},{"tailPos":9285,"headPos":9236,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A * C⁻¹) * card B ≤ card (A / B) * card (B / C⁻¹)"],"goalsAfter":[],"content":"exact card_mul_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":9285,"headPos":9194,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":[],"content":"rw [← div_inv_eq_mul, div_eq_mul_inv]\n  exact card_mul_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":9191,"headPos":9189,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":[],"content":"by"},{"tailPos":9285,"headPos":9189,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA✝ B✝ C✝ A B C : Finset α\n⊢ card (A / C) * card B ≤ card (A / B) * card (B * C)"],"goalsAfter":[],"content":"by\n  rw [← div_inv_eq_mul, div_eq_mul_inv]\n  exact card_mul_mul_le_card_div_mul_card_div _ _ _"},{"tailPos":9699,"headPos":9658,"goalsBefore":["α✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inl\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nB : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ + B) * card A' ≤ card (A' + B) * card ∅\n⊢ ↑(card (∅ + n • B)) ≤ (↑(card (∅ + B)) / ↑(card ∅)) ^ n * ↑(card ∅)","case inr\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"content":"obtain rfl | hA := A.eq_empty_or_nonempty"},{"tailPos":9704,"headPos":9702,"goalsBefore":["case inl\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nB : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ + B) * card A' ≤ card (A' + B) * card ∅\n⊢ ↑(card (∅ + n • B)) ≤ (↑(card (∅ + B)) / ↑(card ∅)) ^ n * ↑(card ∅)","case inr\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inl\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nB : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ + B) * card A' ≤ card (A' + B) * card ∅\n⊢ ↑(card (∅ + n • B)) ≤ (↑(card (∅ + B)) / ↑(card ∅)) ^ n * ↑(card ∅)"],"content":"·"},{"tailPos":9709,"headPos":9705,"goalsBefore":["case inl\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nB : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ + B) * card A' ≤ card (A' + B) * card ∅\n⊢ ↑(card (∅ + n • B)) ≤ (↑(card (∅ + B)) / ↑(card ∅)) ^ n * ↑(card ∅)"],"goalsAfter":[],"content":"simp only [empty_add, card_empty, cast_zero, ne_eq, div_zero, mul_zero, le_refl]"},{"tailPos":9709,"headPos":9702,"goalsBefore":["case inl\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nB : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ + B) * card A' ≤ card (A' + B) * card ∅\n⊢ ↑(card (∅ + n • B)) ≤ (↑(card (∅ + B)) / ↑(card ∅)) ^ n * ↑(card ∅)","case inr\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inr\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"content":"· simp"},{"tailPos":9734,"headPos":9712,"goalsBefore":["case inr\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inr.zero\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A + zero • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ zero * ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + succ n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"induction' n with n ih"},{"tailPos":9739,"headPos":9737,"goalsBefore":["case inr.zero\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A + zero • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ zero * ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + succ n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.zero\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A + zero • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ zero * ↑(card A)"],"content":"·"},{"tailPos":9744,"headPos":9740,"goalsBefore":["case inr.zero\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A + zero • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ zero * ↑(card A)"],"goalsAfter":[],"content":"simp only [zero_eq, zero_smul, add_zero, _root_.pow_zero, one_mul, le_refl]"},{"tailPos":9744,"headPos":9737,"goalsBefore":["case inr.zero\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A + zero • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ zero * ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + succ n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + succ n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"· simp"},{"tailPos":9762,"headPos":9751,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + succ n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + (B + n • B))) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"succ_nsmul,"},{"tailPos":9777,"headPos":9763,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + (B + n • B))) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"← add_assoc,"},{"tailPos":9794,"headPos":9778,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ ↑(card (A + B)) / ↑(card A) * (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"content":"_root_.pow_succ,"},{"tailPos":9805,"headPos":9795,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ ↑(card (A + B)) / ↑(card A) * (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ ↑(card (A + B)) / ↑(card A) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"mul_assoc,"},{"tailPos":9829,"headPos":9806,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ ↑(card (A + B)) / ↑(card A) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)) / ↑(card A)"],"content":"← mul_div_right_comm,"},{"tailPos":9841,"headPos":9830,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)) / ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) * ↑(card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"le_div_iff,"},{"tailPos":9858,"headPos":9846,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B)) * ↑(card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"← cast_mul"},{"tailPos":9859,"headPos":9858,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"]"},{"tailPos":9859,"headPos":9747,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + succ n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"rw [succ_nsmul, ← add_assoc, _root_.pow_succ, mul_assoc, ← mul_div_right_comm, le_div_iff,\n    ← cast_mul]"},{"tailPos":9866,"headPos":9862,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"swap"},{"tailPos":9867,"headPos":9866,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":";"},{"tailPos":9896,"headPos":9868,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"exact cast_pos.2 hA.card_pos"},{"tailPos":9959,"headPos":9899,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B + n • B) * card A) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B) * card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"refine' (cast_le.2 <| add_pluennecke_petridis _ hAB).trans _"},{"tailPos":9974,"headPos":9966,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B) * card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B)) * ↑(card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"cast_mul"},{"tailPos":9975,"headPos":9974,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B)) * ↑(card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B)) * ↑(card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"]"},{"tailPos":9975,"headPos":9962,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B) * card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B)) * ↑(card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"rw [cast_mul]"},{"tailPos":9984,"headPos":9978,"goalsBefore":["case inr.succ\nα✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A + B)) * ↑(card (A + n • B)) ≤ ↑(card (A + B)) * ((↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":[],"content":"gcongr"},{"tailPos":9984,"headPos":9658,"goalsBefore":["α✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"obtain rfl | hA := A.eq_empty_or_nonempty\n  · simp\n  induction' n with n ih\n  · simp\n  rw [succ_nsmul, ← add_assoc, _root_.pow_succ, mul_assoc, ← mul_div_right_comm, le_div_iff,\n    ← cast_mul]\n  swap; exact cast_pos.2 hA.card_pos\n  refine' (cast_le.2 <| add_pluennecke_petridis _ hAB).trans _\n  rw [cast_mul]\n  gcongr"},{"tailPos":9655,"headPos":9653,"goalsBefore":["α✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by"},{"tailPos":9984,"headPos":9653,"goalsBefore":["α✝ : Type ?u.99967\ninst✝³ : CommGroup α✝\ninst✝² : DecidableEq α✝\nA✝ B✝ C : Finset α✝\nα : Type u_1\ninst✝¹ : AddCommGroup α\ninst✝ : DecidableEq α\nA B : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A + B) * card A' ≤ card (A' + B) * card A\nn : ℕ\n⊢ ↑(card (A + n • B)) ≤ (↑(card (A + B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by\n  obtain rfl | hA := A.eq_empty_or_nonempty\n  · simp\n  induction' n with n ih\n  · simp\n  rw [succ_nsmul, ← add_assoc, _root_.pow_succ, mul_assoc, ← mul_div_right_comm, le_div_iff,\n    ← cast_mul]\n  swap; exact cast_pos.2 hA.card_pos\n  refine' (cast_le.2 <| add_pluennecke_petridis _ hAB).trans _\n  rw [cast_mul]\n  gcongr"},{"tailPos":10307,"headPos":10266,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nB C : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ * B) * card A' ≤ card (A' * B) * card ∅\n⊢ ↑(card (∅ * B ^ n)) ≤ (↑(card (∅ * B)) / ↑(card ∅)) ^ n * ↑(card ∅)","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"content":"obtain rfl | hA := A.eq_empty_or_nonempty"},{"tailPos":10312,"headPos":10310,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nB C : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ * B) * card A' ≤ card (A' * B) * card ∅\n⊢ ↑(card (∅ * B ^ n)) ≤ (↑(card (∅ * B)) / ↑(card ∅)) ^ n * ↑(card ∅)","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nB C : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ * B) * card A' ≤ card (A' * B) * card ∅\n⊢ ↑(card (∅ * B ^ n)) ≤ (↑(card (∅ * B)) / ↑(card ∅)) ^ n * ↑(card ∅)"],"content":"·"},{"tailPos":10317,"headPos":10313,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nB C : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ * B) * card A' ≤ card (A' * B) * card ∅\n⊢ ↑(card (∅ * B ^ n)) ≤ (↑(card (∅ * B)) / ↑(card ∅)) ^ n * ↑(card ∅)"],"goalsAfter":[],"content":"simp only [empty_mul, card_empty, cast_zero, ne_eq, div_zero, mul_zero, le_refl]"},{"tailPos":10317,"headPos":10310,"goalsBefore":["case inl\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nB C : Finset α\nn : ℕ\nhAB : ∀ (A' : Finset α), A' ⊆ ∅ → card (∅ * B) * card A' ≤ card (A' * B) * card ∅\n⊢ ↑(card (∅ * B ^ n)) ≤ (↑(card (∅ * B)) / ↑(card ∅)) ^ n * ↑(card ∅)","case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"content":"· simp"},{"tailPos":10342,"headPos":10320,"goalsBefore":["case inr\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inr.zero\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ zero)) ≤ (↑(card (A * B)) / ↑(card A)) ^ zero * ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B ^ succ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"induction' n with n ih"},{"tailPos":10347,"headPos":10345,"goalsBefore":["case inr.zero\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ zero)) ≤ (↑(card (A * B)) / ↑(card A)) ^ zero * ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B ^ succ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.zero\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ zero)) ≤ (↑(card (A * B)) / ↑(card A)) ^ zero * ↑(card A)"],"content":"·"},{"tailPos":10352,"headPos":10348,"goalsBefore":["case inr.zero\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ zero)) ≤ (↑(card (A * B)) / ↑(card A)) ^ zero * ↑(card A)"],"goalsAfter":[],"content":"simp only [zero_eq, _root_.pow_zero, mul_one, one_mul, le_refl]"},{"tailPos":10352,"headPos":10345,"goalsBefore":["case inr.zero\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\n⊢ ↑(card (A * B ^ zero)) ≤ (↑(card (A * B)) / ↑(card A)) ^ zero * ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B ^ succ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B ^ succ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"· simp"},{"tailPos":10375,"headPos":10359,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B ^ succ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * (B * B ^ n))) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"_root_.pow_succ,"},{"tailPos":10390,"headPos":10376,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * (B * B ^ n))) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"content":"← mul_assoc,"},{"tailPos":10407,"headPos":10391,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ ↑(card (A * B)) / ↑(card A) * (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"content":"_root_.pow_succ,"},{"tailPos":10427,"headPos":10408,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ ↑(card (A * B)) / ↑(card A) * (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ ↑(card (A * B)) / ↑(card A) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"@mul_assoc ℚ≥0,"},{"tailPos":10451,"headPos":10428,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ ↑(card (A * B)) / ↑(card A) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)) / ↑(card A)"],"content":"← mul_div_right_comm,"},{"tailPos":10467,"headPos":10456,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)) / ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) * ↑(card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"le_div_iff,"},{"tailPos":10480,"headPos":10468,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n)) * ↑(card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"← cast_mul"},{"tailPos":10481,"headPos":10480,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"]"},{"tailPos":10481,"headPos":10355,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B ^ succ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ succ n * ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"content":"rw [_root_.pow_succ, ← mul_assoc, _root_.pow_succ, @mul_assoc ℚ≥0, ← mul_div_right_comm,\n    le_div_iff, ← cast_mul]"},{"tailPos":10488,"headPos":10484,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"swap"},{"tailPos":10489,"headPos":10488,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":";"},{"tailPos":10518,"headPos":10490,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ 0 < ↑(card A)","case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"exact cast_pos.2 hA.card_pos"},{"tailPos":10581,"headPos":10521,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B * B ^ n) * card A) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B) * card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"refine' (cast_le.2 <| mul_pluennecke_petridis _ hAB).trans _"},{"tailPos":10596,"headPos":10588,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B) * card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B)) * ↑(card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"cast_mul"},{"tailPos":10597,"headPos":10596,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B)) * ↑(card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B)) * ↑(card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"]"},{"tailPos":10597,"headPos":10584,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B) * card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B)) * ↑(card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"content":"rw [cast_mul]"},{"tailPos":10606,"headPos":10600,"goalsBefore":["case inr.succ\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nhA : Finset.Nonempty A\nn : ℕ\nih : ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)\n⊢ ↑(card (A * B)) * ↑(card (A * B ^ n)) ≤ ↑(card (A * B)) * ((↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A))"],"goalsAfter":[],"content":"gcongr"},{"tailPos":10606,"headPos":10266,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"obtain rfl | hA := A.eq_empty_or_nonempty\n  · simp\n  induction' n with n ih\n  · simp\n  rw [_root_.pow_succ, ← mul_assoc, _root_.pow_succ, @mul_assoc ℚ≥0, ← mul_div_right_comm,\n    le_div_iff, ← cast_mul]\n  swap; exact cast_pos.2 hA.card_pos\n  refine' (cast_le.2 <| mul_pluennecke_petridis _ hAB).trans _\n  rw [cast_mul]\n  gcongr"},{"tailPos":10263,"headPos":10261,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by"},{"tailPos":10606,"headPos":10261,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B C : Finset α\nhAB : ∀ (A' : Finset α), A' ⊆ A → card (A * B) * card A' ≤ card (A' * B) * card A\nn : ℕ\n⊢ ↑(card (A * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by\n  obtain rfl | hA := A.eq_empty_or_nonempty\n  · simp\n  induction' n with n ih\n  · simp\n  rw [_root_.pow_succ, ← mul_assoc, _root_.pow_succ, @mul_assoc ℚ≥0, ← mul_div_right_comm,\n    le_div_iff, ← cast_mul]\n  swap; exact cast_pos.2 hA.card_pos\n  refine' (cast_le.2 <| mul_pluennecke_petridis _ hAB).trans _\n  rw [cast_mul]\n  gcongr"},{"tailPos":11291,"headPos":11194,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"have hA' : A ∈ A.powerset.erase ∅ := mem_erase_of_ne_of_mem hA.ne_empty (mem_powerset_self _)"},{"tailPos":11427,"headPos":11294,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ∈ erase (powerset A) ∅\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"obtain ⟨C, hC, hCA⟩ :=\n    exists_min_image (A.powerset.erase ∅) (fun C ↦ (C * B).card / C.card : _ → ℚ≥0) ⟨A, hA'⟩"},{"tailPos":11444,"headPos":11434,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ∈ erase (powerset A) ∅\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ≠ ∅ ∧ C ∈ powerset A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"mem_erase,"},{"tailPos":11458,"headPos":11445,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ≠ ∅ ∧ C ∈ powerset A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ≠ ∅ ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"mem_powerset,"},{"tailPos":11484,"headPos":11459,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ≠ ∅ ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"← nonempty_iff_ne_empty"},{"tailPos":11485,"headPos":11484,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"]"},{"tailPos":11491,"headPos":11430,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : C ∈ erase (powerset A) ∅\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"rw [mem_erase, mem_powerset, ← nonempty_iff_ne_empty] at hC"},{"tailPos":11552,"headPos":11494,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) * ↑(card C) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"refine' (mul_le_mul_right <| cast_pos.2 hC.1.card_pos).1 _"},{"tailPos":11564,"headPos":11555,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n)) * ↑(card C) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n) * card C) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"norm_cast"},{"tailPos":11641,"headPos":11567,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m / B ^ n) * card C) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m * C) * card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"refine' (cast_le.2 <| card_div_mul_le_card_mul_mul_card_mul _ _ _).trans _"},{"tailPos":11653,"headPos":11644,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m * C) * card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m * C)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"push_cast"},{"tailPos":11672,"headPos":11660,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m * C)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B ^ m)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"mul_comm _ C"},{"tailPos":11673,"headPos":11672,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B ^ m)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B ^ m)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"]"},{"tailPos":11673,"headPos":11656,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (B ^ m * C)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B ^ m)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"rw [mul_comm _ C]"},{"tailPos":11820,"headPos":11676,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B ^ m)) * ↑(card (C * B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ m * ↑(card C) * ((↑(card (C * B)) / ↑(card C)) ^ n * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"refine' (mul_le_mul (card_mul_pow_le (mul_aux hC.1 hC.2 hCA) _)\n    (card_mul_pow_le (mul_aux hC.1 hC.2 hCA) _) (zero_le _) (zero_le _)).trans _"},{"tailPos":11844,"headPos":11827,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ m * ↑(card C) * ((↑(card (C * B)) / ↑(card C)) ^ n * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ m * (↑(card (C * B)) / ↑(card C)) ^ n * (↑(card C) * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"mul_mul_mul_comm,"},{"tailPos":11857,"headPos":11845,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ m * (↑(card (C * B)) / ↑(card C)) ^ n * (↑(card C) * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * (↑(card C) * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"← pow_add,"},{"tailPos":11871,"headPos":11858,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * (↑(card C) * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * ↑(card C) * ↑(card C) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"← mul_assoc"},{"tailPos":11872,"headPos":11871,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * ↑(card C) * ↑(card C) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * ↑(card C) * ↑(card C) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"]"},{"tailPos":11872,"headPos":11823,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ m * ↑(card C) * ((↑(card (C * B)) / ↑(card C)) ^ n * ↑(card C)) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * ↑(card C) * ↑(card C) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"content":"rw [mul_mul_mul_comm, ← pow_add, ← mul_assoc]"},{"tailPos":11910,"headPos":11875,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ (↑(card (C * B)) / ↑(card C)) ^ (m + n) * ↑(card C) * ↑(card C) ≤\n    (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A) * ↑(card C)"],"goalsAfter":["case intro.intro.bc.h₁.hab\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B)) / ↑(card C) ≤ ↑(card (A * B)) / ↑(card A)","case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"content":"gcongr ((?_ ^ _) * Nat.cast ?_) * _"},{"tailPos":11915,"headPos":11913,"goalsBefore":["case intro.intro.bc.h₁.hab\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B)) / ↑(card C) ≤ ↑(card (A * B)) / ↑(card A)","case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"goalsAfter":["case intro.intro.bc.h₁.hab\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B)) / ↑(card C) ≤ ↑(card (A * B)) / ↑(card A)"],"content":"·"},{"tailPos":11931,"headPos":11916,"goalsBefore":["case intro.intro.bc.h₁.hab\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B)) / ↑(card C) ≤ ↑(card (A * B)) / ↑(card A)"],"goalsAfter":[],"content":"exact hCA _ hA'"},{"tailPos":11931,"headPos":11913,"goalsBefore":["case intro.intro.bc.h₁.hab\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ ↑(card (C * B)) / ↑(card C) ≤ ↑(card (A * B)) / ↑(card A)","case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"goalsAfter":["case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"content":"· exact hCA _ hA'"},{"tailPos":11936,"headPos":11934,"goalsBefore":["case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"goalsAfter":["case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"content":"·"},{"tailPos":11965,"headPos":11937,"goalsBefore":["case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"goalsAfter":[],"content":"exact card_le_of_subset hC.2"},{"tailPos":11965,"headPos":11934,"goalsBefore":["case intro.intro.bc.h₂.h\nα : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C✝ : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\nhA' : A ∈ erase (powerset A) ∅\nC : Finset α\nhC : Finset.Nonempty C ∧ C ⊆ A\nhCA : ∀ (x' : Finset α), x' ∈ erase (powerset A) ∅ → ↑(card (C * B)) / ↑(card C) ≤ ↑(card (x' * B)) / ↑(card x')\n⊢ card C ≤ card A"],"goalsAfter":[],"content":"· exact card_le_of_subset hC.2"},{"tailPos":11965,"headPos":11194,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"have hA' : A ∈ A.powerset.erase ∅ := mem_erase_of_ne_of_mem hA.ne_empty (mem_powerset_self _)\n  obtain ⟨C, hC, hCA⟩ :=\n    exists_min_image (A.powerset.erase ∅) (fun C ↦ (C * B).card / C.card : _ → ℚ≥0) ⟨A, hA'⟩\n  rw [mem_erase, mem_powerset, ← nonempty_iff_ne_empty] at hC\n  refine' (mul_le_mul_right <| cast_pos.2 hC.1.card_pos).1 _\n  norm_cast\n  refine' (cast_le.2 <| card_div_mul_le_card_mul_mul_card_mul _ _ _).trans _\n  push_cast\n  rw [mul_comm _ C]\n  refine' (mul_le_mul (card_mul_pow_le (mul_aux hC.1 hC.2 hCA) _)\n    (card_mul_pow_le (mul_aux hC.1 hC.2 hCA) _) (zero_le _) (zero_le _)).trans _\n  rw [mul_mul_mul_comm, ← pow_add, ← mul_assoc]\n  gcongr ((?_ ^ _) * Nat.cast ?_) * _\n  · exact hCA _ hA'\n  · exact card_le_of_subset hC.2"},{"tailPos":11191,"headPos":11189,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"by"},{"tailPos":11965,"headPos":11189,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"by\n  have hA' : A ∈ A.powerset.erase ∅ := mem_erase_of_ne_of_mem hA.ne_empty (mem_powerset_self _)\n  obtain ⟨C, hC, hCA⟩ :=\n    exists_min_image (A.powerset.erase ∅) (fun C ↦ (C * B).card / C.card : _ → ℚ≥0) ⟨A, hA'⟩\n  rw [mem_erase, mem_powerset, ← nonempty_iff_ne_empty] at hC\n  refine' (mul_le_mul_right <| cast_pos.2 hC.1.card_pos).1 _\n  norm_cast\n  refine' (cast_le.2 <| card_div_mul_le_card_mul_mul_card_mul _ _ _).trans _\n  push_cast\n  rw [mul_comm _ C]\n  refine' (mul_le_mul (card_mul_pow_le (mul_aux hC.1 hC.2 hCA) _)\n    (card_mul_pow_le (mul_aux hC.1 hC.2 hCA) _) (zero_le _) (zero_le _)).trans _\n  rw [mul_mul_mul_comm, ← pow_add, ← mul_assoc]\n  gcongr ((?_ ^ _) * Nat.cast ?_) * _\n  · exact hCA _ hA'\n  · exact card_le_of_subset hC.2"},{"tailPos":12421,"headPos":12408,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)⁻¹) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"← card_inv,"},{"tailPos":12431,"headPos":12422,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)⁻¹) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card ((B ^ m)⁻¹ / (B ^ n)⁻¹)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"inv_div',"},{"tailPos":12444,"headPos":12432,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card ((B ^ m)⁻¹ / (B ^ n)⁻¹)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / (B ^ n)⁻¹)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"← inv_pow,"},{"tailPos":12457,"headPos":12445,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / (B ^ n)⁻¹)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"← inv_pow,"},{"tailPos":12474,"headPos":12458,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A * B⁻¹)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"div_eq_mul_inv A"},{"tailPos":12475,"headPos":12474,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A * B⁻¹)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A * B⁻¹)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"]"},{"tailPos":12475,"headPos":12404,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A * B⁻¹)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"content":"rw [← card_inv, inv_div', ← inv_pow, ← inv_pow, div_eq_mul_inv A]"},{"tailPos":12512,"headPos":12478,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B⁻¹ ^ m / B⁻¹ ^ n)) ≤ (↑(card (A * B⁻¹)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"exact card_pow_div_pow_le hA _ _ _"},{"tailPos":12512,"headPos":12404,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"rw [← card_inv, inv_div', ← inv_pow, ← inv_pow, div_eq_mul_inv A]\n  exact card_pow_div_pow_le hA _ _ _"},{"tailPos":12401,"headPos":12399,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"by"},{"tailPos":12512,"headPos":12399,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nm n : ℕ\n⊢ ↑(card (B ^ m / B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ (m + n) * ↑(card A)"],"goalsAfter":[],"content":"by\n  rw [← card_inv, inv_div', ← inv_pow, ← inv_pow, div_eq_mul_inv A]\n  exact card_pow_div_pow_le hA _ _ _"},{"tailPos":13034,"headPos":12962,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nn : ℕ\n⊢ ↑(card (B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"simpa only [_root_.pow_zero, div_one] using card_pow_div_pow_le hA _ _ 0"},{"tailPos":12959,"headPos":12957,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nn : ℕ\n⊢ ↑(card (B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by"},{"tailPos":13034,"headPos":12957,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nn : ℕ\n⊢ ↑(card (B ^ n)) ≤ (↑(card (A * B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by\n  simpa only [_root_.pow_zero, div_one] using card_pow_div_pow_le hA _ _ 0"},{"tailPos":13515,"headPos":13442,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nn : ℕ\n⊢ ↑(card (B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"simpa only [_root_.pow_zero, div_one] using card_pow_div_pow_le' hA _ _ 0"},{"tailPos":13439,"headPos":13437,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nn : ℕ\n⊢ ↑(card (B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by"},{"tailPos":13515,"headPos":13437,"goalsBefore":["α : Type u_1\ninst✝¹ : CommGroup α\ninst✝ : DecidableEq α\nA B✝ C : Finset α\nhA : Finset.Nonempty A\nB : Finset α\nn : ℕ\n⊢ ↑(card (B ^ n)) ≤ (↑(card (A / B)) / ↑(card A)) ^ n * ↑(card A)"],"goalsAfter":[],"content":"by\n  simpa only [_root_.pow_zero, div_one] using card_pow_div_pow_le' hA _ _ 0"}]