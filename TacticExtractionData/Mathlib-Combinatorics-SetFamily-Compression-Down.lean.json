[{"tailPos":2055,"headPos":2030,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ nonMemberSubfamily a 𝒜 ↔ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"simp [nonMemberSubfamily]"},{"tailPos":2027,"headPos":2025,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ nonMemberSubfamily a 𝒜 ↔ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"by"},{"tailPos":2055,"headPos":2025,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ nonMemberSubfamily a 𝒜 ↔ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"by\n  simp [nonMemberSubfamily]"},{"tailPos":2246,"headPos":2237,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"simp_rw ["},{"tailPos":2262,"headPos":2246,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"memberSubfamily,"},{"tailPos":2273,"headPos":2263,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, a_1 ∈ filter (fun s => a ∈ s) 𝒜 ∧ erase a_1 a = s) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"mem_image,"},{"tailPos":2284,"headPos":2274,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, a_1 ∈ filter (fun s => a ∈ s) 𝒜 ∧ erase a_1 a = s) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, (a_1 ∈ 𝒜 ∧ a ∈ a_1) ∧ erase a_1 a = s) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"simp only [mem_filter]"},{"tailPos":2285,"headPos":2237,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, (a_1 ∈ 𝒜 ∧ a ∈ a_1) ∧ erase a_1 a = s) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"simp_rw [memberSubfamily, mem_image, mem_filter]"},{"tailPos":2341,"headPos":2337,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ a ∈ insert a s"],"goalsAfter":[],"content":"simp only [mem_insert, true_or]"},{"tailPos":2336,"headPos":2334,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ a ∈ insert a s"],"goalsAfter":[],"content":"by"},{"tailPos":2341,"headPos":2334,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ a ∈ insert a s"],"goalsAfter":[],"content":"by simp"},{"tailPos":2368,"headPos":2288,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, (a_1 ∈ 𝒜 ∧ a ∈ a_1) ∧ erase a_1 a = s) ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, (a_1 ∈ 𝒜 ∧ a ∈ a_1) ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"refine' ⟨_, fun h => ⟨insert a s, ⟨h.1, by simp⟩, erase_insert h.2⟩⟩"},{"tailPos":2406,"headPos":2371,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ (∃ a_1, (a_1 ∈ 𝒜 ∧ a ∈ a_1) ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"rintro ⟨s, ⟨hs1, hs2⟩, rfl⟩"},{"tailPos":2429,"headPos":2413,"goalsBefore":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ s ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"insert_erase hs2"},{"tailPos":2430,"headPos":2429,"goalsBefore":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ s ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ s ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"]"},{"tailPos":2430,"headPos":2409,"goalsBefore":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ s ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"rw [insert_erase hs2]"},{"tailPos":2467,"headPos":2433,"goalsBefore":["case intro.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\ns : Finset α\nhs1 : s ∈ 𝒜\nhs2 : a ∈ s\n⊢ s ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":[],"content":"exact ⟨hs1, not_mem_erase _ _⟩"},{"tailPos":2467,"headPos":2237,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"simp_rw [memberSubfamily, mem_image, mem_filter]\n  refine' ⟨_, fun h => ⟨insert a s, ⟨h.1, by simp⟩, erase_insert h.2⟩⟩\n  rintro ⟨s, ⟨hs1, hs2⟩, rfl⟩\n  rw [insert_erase hs2]\n  exact ⟨hs1, not_mem_erase _ _⟩"},{"tailPos":2234,"headPos":2232,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"by"},{"tailPos":2467,"headPos":2232,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ memberSubfamily a 𝒜 ↔ insert a s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"by\n  simp_rw [memberSubfamily, mem_image, mem_filter]\n  refine' ⟨_, fun h => ⟨insert a s, ⟨h.1, by simp⟩, erase_insert h.2⟩⟩\n  rintro ⟨s, ⟨hs1, hs2⟩, rfl⟩\n  rw [insert_erase hs2]\n  exact ⟨hs1, not_mem_erase _ _⟩"},{"tailPos":3001,"headPos":2979,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∩ ℬ) = memberSubfamily a 𝒜 ∩ memberSubfamily a ℬ"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) (𝒜 ∩ ℬ)) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"content":"unfold memberSubfamily"},{"tailPos":3029,"headPos":3008,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) (𝒜 ∩ ℬ)) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜 ∩ filter (fun s => a ∈ s) ℬ) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"content":"filter_inter_distrib,"},{"tailPos":3080,"headPos":3030,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜 ∩ filter (fun s => a ∈ s) ℬ) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ∪ ↑(filter (fun s => a ∈ s) ℬ) ⊆ {s | a ∈ s}"],"content":"image_inter_of_injOn _ _ ((erase_injOn' _).mono _)"},{"tailPos":3081,"headPos":3080,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ∪ ↑(filter (fun s => a ∈ s) ℬ) ⊆ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ∪ ↑(filter (fun s => a ∈ s) ℬ) ⊆ {s | a ∈ s}"],"content":"]"},{"tailPos":3081,"headPos":3004,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) (𝒜 ∩ ℬ)) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∩ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ∪ ↑(filter (fun s => a ∈ s) ℬ) ⊆ {s | a ∈ s}"],"content":"rw [filter_inter_distrib, image_inter_of_injOn _ _ ((erase_injOn' _).mono _)]"},{"tailPos":3088,"headPos":3084,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ∪ ↑(filter (fun s => a ∈ s) ℬ) ⊆ {s | a ∈ s}"],"goalsAfter":[],"content":"simp only [coe_filter, Set.union_subset_iff, Set.setOf_subset_setOf, and_imp, imp_self, implies_true,\n  forall_const, and_self]"},{"tailPos":3088,"headPos":2979,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∩ ℬ) = memberSubfamily a 𝒜 ∩ memberSubfamily a ℬ"],"goalsAfter":[],"content":"unfold memberSubfamily\n  rw [filter_inter_distrib, image_inter_of_injOn _ _ ((erase_injOn' _).mono _)]\n  simp"},{"tailPos":2976,"headPos":2974,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∩ ℬ) = memberSubfamily a 𝒜 ∩ memberSubfamily a ℬ"],"goalsAfter":[],"content":"by"},{"tailPos":3088,"headPos":2974,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∩ ℬ) = memberSubfamily a 𝒜 ∩ memberSubfamily a ℬ"],"goalsAfter":[],"content":"by\n  unfold memberSubfamily\n  rw [filter_inter_distrib, image_inter_of_injOn _ _ ((erase_injOn' _).mono _)]\n  simp"},{"tailPos":3605,"headPos":3596,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∪ ℬ) = memberSubfamily a 𝒜 ∪ memberSubfamily a ℬ"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∪ ℬ) = memberSubfamily a 𝒜 ∪ memberSubfamily a ℬ"],"content":"simp_rw ["},{"tailPos":3621,"headPos":3605,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∪ ℬ) = memberSubfamily a 𝒜 ∪ memberSubfamily a ℬ"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) (𝒜 ∪ ℬ)) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∪ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"content":"memberSubfamily,"},{"tailPos":3635,"headPos":3622,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) (𝒜 ∪ ℬ)) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∪ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜 ∪ filter (fun s => a ∈ s) ℬ) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∪ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"content":"filter_union,"},{"tailPos":3647,"headPos":3636,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜 ∪ filter (fun s => a ∈ s) ℬ) =\n    image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜) ∪ image (fun s => erase s a) (filter (fun s => a ∈ s) ℬ)"],"goalsAfter":[],"content":"simp only [image_union]"},{"tailPos":3648,"headPos":3596,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∪ ℬ) = memberSubfamily a 𝒜 ∪ memberSubfamily a ℬ"],"goalsAfter":[],"content":"simp_rw [memberSubfamily, filter_union, image_union]"},{"tailPos":3593,"headPos":3591,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∪ ℬ) = memberSubfamily a 𝒜 ∪ memberSubfamily a ℬ"],"goalsAfter":[],"content":"by"},{"tailPos":3648,"headPos":3591,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ✝ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 ℬ : Finset (Finset α)\n⊢ memberSubfamily a (𝒜 ∪ ℬ) = memberSubfamily a 𝒜 ∪ memberSubfamily a ℬ"],"goalsAfter":[],"content":"by\n  simp_rw [memberSubfamily, filter_union, image_union]"},{"tailPos":3921,"headPos":3905,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (memberSubfamily a 𝒜) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜)) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"content":"memberSubfamily,"},{"tailPos":3941,"headPos":3922,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜)) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜)) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜"],"content":"nonMemberSubfamily,"},{"tailPos":3961,"headPos":3942,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (image (fun s => erase s a) (filter (fun s => a ∈ s) 𝒜)) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"content":"card_image_of_injOn"},{"tailPos":3962,"headPos":3961,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"content":"]"},{"tailPos":3962,"headPos":3901,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (memberSubfamily a 𝒜) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"content":"rw [memberSubfamily, nonMemberSubfamily, card_image_of_injOn]"},{"tailPos":3967,"headPos":3965,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜"],"content":"·"},{"tailPos":4048,"headPos":3984,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun a_1 => ¬a ∈ a_1) 𝒜)"],"content":"← filter_card_add_filter_neg_card_eq_card (fun s => (a ∈ s))"},{"tailPos":4049,"headPos":3980,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun a_1 => ¬a ∈ a_1) 𝒜)"],"content":"rw [← filter_card_add_filter_neg_card_eq_card (fun s => (a ∈ s))]"},{"tailPos":4049,"headPos":3968,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜"],"goalsAfter":[],"content":"conv_rhs => rw [← filter_card_add_filter_neg_card_eq_card (fun s => (a ∈ s))]"},{"tailPos":4049,"headPos":3965,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => a ∈ s) 𝒜) + card (filter (fun s => ¬a ∈ s) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"content":"· conv_rhs => rw [← filter_card_add_filter_neg_card_eq_card (fun s => (a ∈ s))]"},{"tailPos":4054,"headPos":4052,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"content":"·"},{"tailPos":4082,"headPos":4055,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ⊆ {s | a ∈ s}"],"content":"apply (erase_injOn' _).mono"},{"tailPos":4091,"headPos":4087,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ↑(filter (fun s => a ∈ s) 𝒜) ⊆ {s | a ∈ s}"],"goalsAfter":[],"content":"simp only [coe_filter, Set.setOf_subset_setOf, and_imp, imp_self, implies_true, forall_const]"},{"tailPos":4091,"headPos":4055,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":[],"content":"apply (erase_injOn' _).mono\n    simp"},{"tailPos":4091,"headPos":4052,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Set.InjOn (fun s => erase s a) ↑(filter (fun s => a ∈ s) 𝒜)"],"goalsAfter":[],"content":"· apply (erase_injOn' _).mono\n    simp"},{"tailPos":4091,"headPos":3901,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (memberSubfamily a 𝒜) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"goalsAfter":[],"content":"rw [memberSubfamily, nonMemberSubfamily, card_image_of_injOn]\n  · conv_rhs => rw [← filter_card_add_filter_neg_card_eq_card (fun s => (a ∈ s))]\n  · apply (erase_injOn' _).mono\n    simp"},{"tailPos":3898,"headPos":3896,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (memberSubfamily a 𝒜) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":4091,"headPos":3896,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (memberSubfamily a 𝒜) + card (nonMemberSubfamily a 𝒜) = card 𝒜"],"goalsAfter":[],"content":"by\n  rw [memberSubfamily, nonMemberSubfamily, card_image_of_injOn]\n  · conv_rhs => rw [← filter_card_add_filter_neg_card_eq_card (fun s => (a ∈ s))]\n  · apply (erase_injOn' _).mono\n    simp"},{"tailPos":4405,"headPos":4400,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ memberSubfamily a 𝒜 ∪ nonMemberSubfamily a 𝒜 = image (fun s => erase s a) 𝒜"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ s ∈ memberSubfamily a 𝒜 ∪ nonMemberSubfamily a 𝒜 ↔ s ∈ image (fun s => erase s a) 𝒜"],"content":"ext s"},{"tailPos":4498,"headPos":4408,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ s ∈ memberSubfamily a 𝒜 ∪ nonMemberSubfamily a 𝒜 ↔ s ∈ image (fun s => erase s a) 𝒜"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s ↔ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"content":"simp only [mem_union, mem_memberSubfamily, mem_nonMemberSubfamily, mem_image, exists_prop]"},{"tailPos":4512,"headPos":4501,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s ↔ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":["case a.mp\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s → ∃ a_2, a_2 ∈ 𝒜 ∧ erase a_2 a = s","case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"constructor"},{"tailPos":4517,"headPos":4515,"goalsBefore":["case a.mp\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s → ∃ a_2, a_2 ∈ 𝒜 ∧ erase a_2 a = s","case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["case a.mp\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s → ∃ a_2, a_2 ∈ 𝒜 ∧ erase a_2 a = s"],"content":"·"},{"tailPos":4532,"headPos":4518,"goalsBefore":["case a.mp\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s → ∃ a_2, a_2 ∈ 𝒜 ∧ erase a_2 a = s"],"goalsAfter":["case a.mp.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s","case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"content":"rintro (h | h)"},{"tailPos":4539,"headPos":4537,"goalsBefore":["case a.mp.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s","case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":["case a.mp.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"content":"·"},{"tailPos":4576,"headPos":4540,"goalsBefore":["case a.mp.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":[],"content":"exact ⟨_, h.1, erase_insert h.2⟩"},{"tailPos":4576,"headPos":4537,"goalsBefore":["case a.mp.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : insert a s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s","case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":["case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"content":"· exact ⟨_, h.1, erase_insert h.2⟩"},{"tailPos":4583,"headPos":4581,"goalsBefore":["case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":["case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"content":"·"},{"tailPos":4627,"headPos":4584,"goalsBefore":["case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":[],"content":"exact ⟨_, h.1, erase_eq_of_not_mem h.2⟩"},{"tailPos":4627,"headPos":4581,"goalsBefore":["case a.mp.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝒜 ∧ ¬a ∈ s\n⊢ ∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s"],"goalsAfter":[],"content":"· exact ⟨_, h.1, erase_eq_of_not_mem h.2⟩"},{"tailPos":4627,"headPos":4518,"goalsBefore":["case a.mp\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s → ∃ a_2, a_2 ∈ 𝒜 ∧ erase a_2 a = s"],"goalsAfter":[],"content":"rintro (h | h)\n    · exact ⟨_, h.1, erase_insert h.2⟩\n    · exact ⟨_, h.1, erase_eq_of_not_mem h.2⟩"},{"tailPos":4627,"headPos":4515,"goalsBefore":["case a.mp\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s → ∃ a_2, a_2 ∈ 𝒜 ∧ erase a_2 a = s","case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"· rintro (h | h)\n    · exact ⟨_, h.1, erase_insert h.2⟩\n    · exact ⟨_, h.1, erase_eq_of_not_mem h.2⟩"},{"tailPos":4632,"headPos":4630,"goalsBefore":["case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"content":"·"},{"tailPos":4656,"headPos":4633,"goalsBefore":["case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":["case a.mpr.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"rintro ⟨s, hs, rfl⟩"},{"tailPos":4682,"headPos":4661,"goalsBefore":["case a.mpr.intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a","case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"by_cases ha : a ∈ s"},{"tailPos":4689,"headPos":4687,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a","case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"·"},{"tailPos":4729,"headPos":4714,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ s ∈ 𝒜"],"content":"insert_erase ha"},{"tailPos":4730,"headPos":4729,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ s ∈ 𝒜"],"content":"]"},{"tailPos":4730,"headPos":4709,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜"],"goalsAfter":[],"content":"rwa [insert_erase ha]"},{"tailPos":4708,"headPos":4706,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":4730,"headPos":4706,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜"],"goalsAfter":[],"content":"by rwa [insert_erase ha]"},{"tailPos":4752,"headPos":4690,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":[],"content":"exact Or.inl ⟨by rwa [insert_erase ha], not_mem_erase _ _⟩"},{"tailPos":4752,"headPos":4687,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a","case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"· exact Or.inl ⟨by rwa [insert_erase ha], not_mem_erase _ _⟩"},{"tailPos":4759,"headPos":4757,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"content":"·"},{"tailPos":4806,"headPos":4784,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ erase s a ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝒜"],"content":"erase_eq_of_not_mem ha"},{"tailPos":4807,"headPos":4806,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝒜"],"content":"]"},{"tailPos":4807,"headPos":4779,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ erase s a ∈ 𝒜"],"goalsAfter":[],"content":"rwa [erase_eq_of_not_mem ha]"},{"tailPos":4778,"headPos":4776,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ erase s a ∈ 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":4807,"headPos":4776,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ erase s a ∈ 𝒜"],"goalsAfter":[],"content":"by rwa [erase_eq_of_not_mem ha]"},{"tailPos":4829,"headPos":4760,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":[],"content":"exact Or.inr ⟨by rwa [erase_eq_of_not_mem ha], not_mem_erase _ _⟩"},{"tailPos":4829,"headPos":4757,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜\nha : ¬a ∈ s\n⊢ insert a (erase s a) ∈ 𝒜 ∧ ¬a ∈ erase s a ∨ erase s a ∈ 𝒜 ∧ ¬a ∈ erase s a"],"goalsAfter":[],"content":"· exact Or.inr ⟨by rwa [erase_eq_of_not_mem ha], not_mem_erase _ _⟩"},{"tailPos":4829,"headPos":4633,"goalsBefore":["case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"rintro ⟨s, hs, rfl⟩\n    by_cases ha : a ∈ s\n    · exact Or.inl ⟨by rwa [insert_erase ha], not_mem_erase _ _⟩\n    · exact Or.inr ⟨by rwa [erase_eq_of_not_mem ha], not_mem_erase _ _⟩"},{"tailPos":4829,"headPos":4630,"goalsBefore":["case a.mpr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜 ∧ ¬a ∈ s ∨ s ∈ 𝒜 ∧ ¬a ∈ s"],"goalsAfter":[],"content":"· rintro ⟨s, hs, rfl⟩\n    by_cases ha : a ∈ s\n    · exact Or.inl ⟨by rwa [insert_erase ha], not_mem_erase _ _⟩\n    · exact Or.inr ⟨by rwa [erase_eq_of_not_mem ha], not_mem_erase _ _⟩"},{"tailPos":4829,"headPos":4400,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ memberSubfamily a 𝒜 ∪ nonMemberSubfamily a 𝒜 = image (fun s => erase s a) 𝒜"],"goalsAfter":[],"content":"ext s\n  simp only [mem_union, mem_memberSubfamily, mem_nonMemberSubfamily, mem_image, exists_prop]\n  constructor\n  · rintro (h | h)\n    · exact ⟨_, h.1, erase_insert h.2⟩\n    · exact ⟨_, h.1, erase_eq_of_not_mem h.2⟩\n  · rintro ⟨s, hs, rfl⟩\n    by_cases ha : a ∈ s\n    · exact Or.inl ⟨by rwa [insert_erase ha], not_mem_erase _ _⟩\n    · exact Or.inr ⟨by rwa [erase_eq_of_not_mem ha], not_mem_erase _ _⟩"},{"tailPos":4397,"headPos":4395,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ memberSubfamily a 𝒜 ∪ nonMemberSubfamily a 𝒜 = image (fun s => erase s a) 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":4829,"headPos":4395,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ memberSubfamily a 𝒜 ∪ nonMemberSubfamily a 𝒜 = image (fun s => erase s a) 𝒜"],"goalsAfter":[],"content":"by\n  ext s\n  simp only [mem_union, mem_memberSubfamily, mem_nonMemberSubfamily, mem_image, exists_prop]\n  constructor\n  · rintro (h | h)\n    · exact ⟨_, h.1, erase_insert h.2⟩\n    · exact ⟨_, h.1, erase_eq_of_not_mem h.2⟩\n  · rintro ⟨s, hs, rfl⟩\n    by_cases ha : a ∈ s\n    · exact Or.inl ⟨by rwa [insert_erase ha], not_mem_erase _ _⟩\n    · exact Or.inr ⟨by rwa [erase_eq_of_not_mem ha], not_mem_erase _ _⟩"},{"tailPos":5047,"headPos":5044,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (memberSubfamily a 𝒜) = ∅"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ memberSubfamily a (memberSubfamily a 𝒜) ↔ a✝ ∈ ∅"],"content":"ext"},{"tailPos":5054,"headPos":5050,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ memberSubfamily a (memberSubfamily a 𝒜) ↔ a✝ ∈ ∅"],"goalsAfter":[],"content":"simp only [mem_memberSubfamily, mem_insert, true_or, insert_eq_of_mem, not_true, and_false, false_and,\n  not_mem_empty]"},{"tailPos":5054,"headPos":5044,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (memberSubfamily a 𝒜) = ∅"],"goalsAfter":[],"content":"ext\n  simp"},{"tailPos":5041,"headPos":5039,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (memberSubfamily a 𝒜) = ∅"],"goalsAfter":[],"content":"by"},{"tailPos":5054,"headPos":5039,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (memberSubfamily a 𝒜) = ∅"],"goalsAfter":[],"content":"by\n  ext\n  simp"},{"tailPos":5259,"headPos":5256,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (nonMemberSubfamily a 𝒜) = ∅"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ memberSubfamily a (nonMemberSubfamily a 𝒜) ↔ a✝ ∈ ∅"],"content":"ext"},{"tailPos":5266,"headPos":5262,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ memberSubfamily a (nonMemberSubfamily a 𝒜) ↔ a✝ ∈ ∅"],"goalsAfter":[],"content":"simp only [mem_memberSubfamily, mem_nonMemberSubfamily, mem_insert, true_or, not_true, and_false, false_and,\n  not_mem_empty]"},{"tailPos":5266,"headPos":5256,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (nonMemberSubfamily a 𝒜) = ∅"],"goalsAfter":[],"content":"ext\n  simp"},{"tailPos":5253,"headPos":5251,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (nonMemberSubfamily a 𝒜) = ∅"],"goalsAfter":[],"content":"by"},{"tailPos":5266,"headPos":5251,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ memberSubfamily a (nonMemberSubfamily a 𝒜) = ∅"],"goalsAfter":[],"content":"by\n  ext\n  simp"},{"tailPos":5501,"headPos":5498,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (memberSubfamily a 𝒜) = memberSubfamily a 𝒜"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ nonMemberSubfamily a (memberSubfamily a 𝒜) ↔ a✝ ∈ memberSubfamily a 𝒜"],"content":"ext"},{"tailPos":5508,"headPos":5504,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ nonMemberSubfamily a (memberSubfamily a 𝒜) ↔ a✝ ∈ memberSubfamily a 𝒜"],"goalsAfter":[],"content":"simp only [mem_nonMemberSubfamily, mem_memberSubfamily, and_self_right]"},{"tailPos":5508,"headPos":5498,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (memberSubfamily a 𝒜) = memberSubfamily a 𝒜"],"goalsAfter":[],"content":"ext\n  simp"},{"tailPos":5495,"headPos":5493,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (memberSubfamily a 𝒜) = memberSubfamily a 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":5508,"headPos":5493,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (memberSubfamily a 𝒜) = memberSubfamily a 𝒜"],"goalsAfter":[],"content":"by\n  ext\n  simp"},{"tailPos":5752,"headPos":5749,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (nonMemberSubfamily a 𝒜) = nonMemberSubfamily a 𝒜"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ nonMemberSubfamily a (nonMemberSubfamily a 𝒜) ↔ a✝ ∈ nonMemberSubfamily a 𝒜"],"content":"ext"},{"tailPos":5759,"headPos":5755,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\na✝ : Finset α\n⊢ a✝ ∈ nonMemberSubfamily a (nonMemberSubfamily a 𝒜) ↔ a✝ ∈ nonMemberSubfamily a 𝒜"],"goalsAfter":[],"content":"simp only [mem_nonMemberSubfamily, and_self_right]"},{"tailPos":5759,"headPos":5749,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (nonMemberSubfamily a 𝒜) = nonMemberSubfamily a 𝒜"],"goalsAfter":[],"content":"ext\n  simp"},{"tailPos":5746,"headPos":5744,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (nonMemberSubfamily a 𝒜) = nonMemberSubfamily a 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":5759,"headPos":5744,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ nonMemberSubfamily a (nonMemberSubfamily a 𝒜) = nonMemberSubfamily a 𝒜"],"goalsAfter":[],"content":"by\n  ext\n  simp"},{"tailPos":6397,"headPos":6368,"goalsBefore":["α : Type ?u.20054\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh₁ : s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜\nh₂ : s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)\n⊢ False"],"goalsAfter":["α : Type ?u.20054\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh₁ : s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜\nh₂ : s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)\nthis : ¬s ∈ 𝒜\n⊢ False"],"content":"have := (mem_filter.1 h₂).2"},{"tailPos":6436,"headPos":6404,"goalsBefore":["α : Type ?u.20054\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh₁ : s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜\nh₂ : s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)\nthis : ¬s ∈ 𝒜\n⊢ False"],"goalsAfter":[],"content":"exact this (mem_filter.1 h₁).1"},{"tailPos":6436,"headPos":6368,"goalsBefore":["α : Type ?u.20054\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh₁ : s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜\nh₂ : s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)\n⊢ False"],"goalsAfter":[],"content":"have := (mem_filter.1 h₂).2\n      exact this (mem_filter.1 h₁).1"},{"tailPos":6361,"headPos":6359,"goalsBefore":["α : Type ?u.20054\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh₁ : s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜\nh₂ : s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)\n⊢ False"],"goalsAfter":[],"content":"by"},{"tailPos":6436,"headPos":6359,"goalsBefore":["α : Type ?u.20054\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh₁ : s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜\nh₂ : s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)\n⊢ False"],"goalsAfter":[],"content":"by\n      have := (mem_filter.1 h₂).2\n      exact this (mem_filter.1 h₁).1"},{"tailPos":6970,"headPos":6961,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"simp_rw ["},{"tailPos":6982,"headPos":6970,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈\n      disjUnion (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜))\n        (_ : Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜))) ↔\n    s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"compression,"},{"tailPos":6997,"headPos":6983,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈\n      disjUnion (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜))\n        (_ : Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜))) ↔\n    s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜 ∨ s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜) ↔\n    s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"mem_disjUnion,"},{"tailPos":7009,"headPos":6998,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ filter (fun s => erase s a ∈ 𝒜) 𝒜 ∨ s ∈ filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜) ↔\n    s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ s ∈ image (fun s => erase s a) 𝒜 ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"mem_filter,"},{"tailPos":7020,"headPos":7010,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ s ∈ image (fun s => erase s a) 𝒜 ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"mem_image,"},{"tailPos":7052,"headPos":7021,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ insert a s ∈ 𝒜 ∧ ¬s ∈ 𝒜"],"content":"simp only [and_comm (a := (¬s ∈ 𝒜))]"},{"tailPos":7053,"headPos":6961,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ insert a s ∈ 𝒜 ∧ ¬s ∈ 𝒜"],"content":"simp_rw [compression, mem_disjUnion, mem_filter, mem_image, and_comm (a := (¬ s ∈ 𝒜))]"},{"tailPos":7215,"headPos":7056,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) ∧ ¬s ∈ 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ insert a s ∈ 𝒜 ∧ ¬s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : ¬s ∈ 𝒜\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜"],"content":"refine'\n    or_congr_right\n      (and_congr_left fun hs =>\n        ⟨_, fun h => ⟨_, h, erase_insert <| insert_ne_self.1 <| ne_of_mem_of_not_mem h hs⟩⟩)"},{"tailPos":7241,"headPos":7218,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : ¬s ∈ 𝒜\n⊢ (∃ a_1, a_1 ∈ 𝒜 ∧ erase a_1 a = s) → insert a s ∈ 𝒜"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\nt : Finset α\nht : t ∈ 𝒜\nhs : ¬erase t a ∈ 𝒜\n⊢ insert a (erase t a) ∈ 𝒜"],"content":"rintro ⟨t, ht, rfl⟩"},{"tailPos":7313,"headPos":7249,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\nt : Finset α\nht : t ∈ 𝒜\nhs : ¬erase t a ∈ 𝒜\n⊢ insert a (erase t a) ∈ 𝒜"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\nt : Finset α\nht : t ∈ 𝒜\nhs : ¬erase t a ∈ 𝒜\n⊢ t ∈ 𝒜"],"content":"insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem ht hs).symm)"},{"tailPos":7314,"headPos":7313,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\nt : Finset α\nht : t ∈ 𝒜\nhs : ¬erase t a ∈ 𝒜\n⊢ t ∈ 𝒜"],"goalsAfter":["case intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\nt : Finset α\nht : t ∈ 𝒜\nhs : ¬erase t a ∈ 𝒜\n⊢ t ∈ 𝒜"],"content":"]"},{"tailPos":7314,"headPos":7244,"goalsBefore":["case intro.intro\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\na : α\nt : Finset α\nht : t ∈ 𝒜\nhs : ¬erase t a ∈ 𝒜\n⊢ insert a (erase t a) ∈ 𝒜"],"goalsAfter":[],"content":"rwa [insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem ht hs).symm)]"},{"tailPos":7314,"headPos":6961,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":[],"content":"simp_rw [compression, mem_disjUnion, mem_filter, mem_image, and_comm (a := (¬ s ∈ 𝒜))]\n  refine'\n    or_congr_right\n      (and_congr_left fun hs =>\n        ⟨_, fun h => ⟨_, h, erase_insert <| insert_ne_self.1 <| ne_of_mem_of_not_mem h hs⟩⟩)\n  rintro ⟨t, ht, rfl⟩\n  rwa [insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem ht hs).symm)]"},{"tailPos":6958,"headPos":6956,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":7314,"headPos":6956,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 ↔ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":[],"content":"by\n  simp_rw [compression, mem_disjUnion, mem_filter, mem_image, and_comm (a := (¬ s ∈ 𝒜))]\n  refine'\n    or_congr_right\n      (and_congr_left fun hs =>\n        ⟨_, fun h => ⟨_, h, erase_insert <| insert_ne_self.1 <| ne_of_mem_of_not_mem h hs⟩⟩)\n  rintro ⟨t, ht, rfl⟩\n  rwa [insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem ht hs).symm)]"},{"tailPos":7458,"headPos":7449,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"content":"simp_rw ["},{"tailPos":7474,"headPos":7458,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∧ erase (erase s a) a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"mem_compression,"},{"tailPos":7486,"headPos":7475,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∧ erase (erase s a) a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"erase_idem,"},{"tailPos":7499,"headPos":7487,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"simp only [and_self_iff]"},{"tailPos":7500,"headPos":7449,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"simp_rw [mem_compression, erase_idem, and_self_iff]"},{"tailPos":7547,"headPos":7503,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\nh : ¬erase s a ∈ 𝒜\n⊢ insert a (erase s a) ∈ 𝒜"],"content":"refine' (em _).imp_right fun h => ⟨h, _⟩"},{"tailPos":7618,"headPos":7555,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\nh : ¬erase s a ∈ 𝒜\n⊢ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\nh : ¬erase s a ∈ 𝒜\n⊢ s ∈ 𝒜"],"content":"insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem hs h).symm)"},{"tailPos":7619,"headPos":7618,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\nh : ¬erase s a ∈ 𝒜\n⊢ s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\nh : ¬erase s a ∈ 𝒜\n⊢ s ∈ 𝒜"],"content":"]"},{"tailPos":7619,"headPos":7550,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\nh : ¬erase s a ∈ 𝒜\n⊢ insert a (erase s a) ∈ 𝒜"],"goalsAfter":[],"content":"rwa [insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem hs h).symm)]"},{"tailPos":7619,"headPos":7449,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"simp_rw [mem_compression, erase_idem, and_self_iff]\n  refine' (em _).imp_right fun h => ⟨h, _⟩\n  rwa [insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem hs h).symm)]"},{"tailPos":7446,"headPos":7444,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":7619,"headPos":7444,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nhs : s ∈ 𝒜\n⊢ erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by\n  simp_rw [mem_compression, erase_idem, and_self_iff]\n  refine' (em _).imp_right fun h => ⟨h, _⟩\n  rwa [insert_erase (erase_ne_self.1 (ne_of_mem_of_not_mem hs h).symm)]"},{"tailPos":7884,"headPos":7875,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"content":"simp_rw ["},{"tailPos":7900,"headPos":7884,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜 →\n    erase s a ∈ 𝒜 ∧ erase (erase s a) a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"mem_compression,"},{"tailPos":7911,"headPos":7901,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜 →\n    erase s a ∈ 𝒜 ∧ erase (erase s a) a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜 →\n    erase s a ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"simp only [erase_idem]"},{"tailPos":7912,"headPos":7875,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜 →\n    erase s a ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"simp_rw [mem_compression, erase_idem]"},{"tailPos":7966,"headPos":7915,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜 →\n    erase s a ∈ 𝒜 ∧ erase s a ∈ 𝒜 ∨ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜\n⊢ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"content":"refine' Or.imp (fun h => ⟨h.2, h.2⟩) fun h => _"},{"tailPos":8044,"headPos":7974,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜\n⊢ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜\n⊢ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"erase_eq_of_not_mem (insert_ne_self.1 <| ne_of_mem_of_not_mem h.2 h.1)"},{"tailPos":8045,"headPos":8044,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜\n⊢ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜\n⊢ ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜"],"content":"]"},{"tailPos":8045,"headPos":7969,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : ¬s ∈ 𝒜 ∧ insert a s ∈ 𝒜\n⊢ ¬erase s a ∈ 𝒜 ∧ insert a (erase s a) ∈ 𝒜"],"goalsAfter":[],"content":"rwa [erase_eq_of_not_mem (insert_ne_self.1 <| ne_of_mem_of_not_mem h.2 h.1)]"},{"tailPos":8045,"headPos":7875,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"simp_rw [mem_compression, erase_idem]\n  refine' Or.imp (fun h => ⟨h.2, h.2⟩) fun h => _\n  rwa [erase_eq_of_not_mem (insert_ne_self.1 <| ne_of_mem_of_not_mem h.2 h.1)]"},{"tailPos":7872,"headPos":7870,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":8045,"headPos":7870,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\n⊢ s ∈ 𝓓 a 𝒜 → erase s a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by\n  simp_rw [mem_compression, erase_idem]\n  refine' Or.imp (fun h => ⟨h.2, h.2⟩) fun h => _\n  rwa [erase_eq_of_not_mem (insert_ne_self.1 <| ne_of_mem_of_not_mem h.2 h.1)]"},{"tailPos":8278,"headPos":8257,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜","case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"content":"by_cases ha : a ∈ s"},{"tailPos":8283,"headPos":8281,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜","case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"content":"·"},{"tailPos":8308,"headPos":8289,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"content":"insert_eq_of_mem ha"},{"tailPos":8309,"headPos":8308,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"content":"]"},{"tailPos":8314,"headPos":8284,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"rwa [insert_eq_of_mem ha] at h"},{"tailPos":8314,"headPos":8281,"goalsBefore":["case pos\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : a ∈ s\n⊢ s ∈ 𝓓 a 𝒜","case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"content":"· rwa [insert_eq_of_mem ha] at h"},{"tailPos":8319,"headPos":8317,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"content":"·"},{"tailPos":8343,"headPos":8324,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ erase (insert a s) a ∈ 𝓓 a 𝒜"],"content":"← erase_insert ha"},{"tailPos":8344,"headPos":8343,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ erase (insert a s) a ∈ 𝓓 a 𝒜"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ erase (insert a s) a ∈ 𝓓 a 𝒜"],"content":"]"},{"tailPos":8344,"headPos":8320,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ erase (insert a s) a ∈ 𝓓 a 𝒜"],"content":"rw [← erase_insert ha]"},{"tailPos":8397,"headPos":8349,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ erase (insert a s) a ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"exact erase_mem_compression_of_mem_compression h"},{"tailPos":8397,"headPos":8320,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"rw [← erase_insert ha]\n    exact erase_mem_compression_of_mem_compression h"},{"tailPos":8397,"headPos":8317,"goalsBefore":["case neg\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\nha : ¬a ∈ s\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"· rw [← erase_insert ha]\n    exact erase_mem_compression_of_mem_compression h"},{"tailPos":8397,"headPos":8257,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by_cases ha : a ∈ s\n  · rwa [insert_eq_of_mem ha] at h\n  · rw [← erase_insert ha]\n    exact erase_mem_compression_of_mem_compression h"},{"tailPos":8254,"headPos":8252,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":8397,"headPos":8252,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜 ℬ : Finset (Finset α)\ns : Finset α\na : α\nh : insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"by\n  by_cases ha : a ∈ s\n  · rwa [insert_eq_of_mem ha] at h\n  · rw [← erase_insert ha]\n    exact erase_mem_compression_of_mem_compression h"},{"tailPos":8668,"headPos":8663,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ 𝓓 a (𝓓 a 𝒜) = 𝓓 a 𝒜"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ s ∈ 𝓓 a (𝓓 a 𝒜) ↔ s ∈ 𝓓 a 𝒜"],"content":"ext s"},{"tailPos":8777,"headPos":8671,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ s ∈ 𝓓 a (𝓓 a 𝒜) ↔ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜 ∨ ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜 → s ∈ 𝓓 a 𝒜"],"content":"refine' mem_compression.trans ⟨_, fun h => Or.inl ⟨h, erase_mem_compression_of_mem_compression h⟩⟩"},{"tailPos":8794,"headPos":8780,"goalsBefore":["case a\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\n⊢ s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜 ∨ ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜 → s ∈ 𝓓 a 𝒜"],"goalsAfter":["case a.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜","case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"content":"rintro (h | h)"},{"tailPos":8799,"headPos":8797,"goalsBefore":["case a.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜","case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case a.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"content":"·"},{"tailPos":8809,"headPos":8800,"goalsBefore":["case a.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"exact h.1"},{"tailPos":8809,"headPos":8797,"goalsBefore":["case a.inl\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : s ∈ 𝓓 a 𝒜 ∧ erase s a ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜","case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"content":"· exact h.1"},{"tailPos":8814,"headPos":8812,"goalsBefore":["case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":["case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"content":"·"},{"tailPos":8872,"headPos":8815,"goalsBefore":["case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"cases h.1 (mem_compression_of_insert_mem_compression h.2)"},{"tailPos":8872,"headPos":8812,"goalsBefore":["case a.inr\nα : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nh : ¬s ∈ 𝓓 a 𝒜 ∧ insert a s ∈ 𝓓 a 𝒜\n⊢ s ∈ 𝓓 a 𝒜"],"goalsAfter":[],"content":"· cases h.1 (mem_compression_of_insert_mem_compression h.2)"},{"tailPos":8872,"headPos":8663,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ 𝓓 a (𝓓 a 𝒜) = 𝓓 a 𝒜"],"goalsAfter":[],"content":"ext s\n  refine' mem_compression.trans ⟨_, fun h => Or.inl ⟨h, erase_mem_compression_of_mem_compression h⟩⟩\n  rintro (h | h)\n  · exact h.1\n  · cases h.1 (mem_compression_of_insert_mem_compression h.2)"},{"tailPos":8660,"headPos":8658,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ 𝓓 a (𝓓 a 𝒜) = 𝓓 a 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":8872,"headPos":8658,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ 𝓓 a (𝓓 a 𝒜) = 𝓓 a 𝒜"],"goalsAfter":[],"content":"by\n  ext s\n  refine' mem_compression.trans ⟨_, fun h => Or.inl ⟨h, erase_mem_compression_of_mem_compression h⟩⟩\n  rintro (h | h)\n  · exact h.1\n  · cases h.1 (mem_compression_of_insert_mem_compression h.2)"},{"tailPos":9110,"headPos":9098,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (𝓓 a 𝒜) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card\n      (disjUnion (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜))\n        (_ : Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)))) =\n    card 𝒜"],"content":"compression,"},{"tailPos":9126,"headPos":9111,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card\n      (disjUnion (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜))\n        (_ : Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)))) =\n    card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜) + card (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)) = card 𝒜"],"content":"card_disjUnion,"},{"tailPos":9140,"headPos":9127,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜) + card (filter (fun s => ¬s ∈ 𝒜) (image (fun s => erase s a) 𝒜)) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜) +\n      card (image (fun s => erase s a) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)) =\n    card 𝒜"],"content":"image_filter,"},{"tailPos":9203,"headPos":9145,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜) +\n      card (image (fun s => erase s a) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)) =\n    card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜) + card (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"content":"card_image_of_injOn ((erase_injOn' _).mono fun s hs => _),"},{"tailPos":9227,"headPos":9204,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜) + card (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"content":"← card_disjoint_union"},{"tailPos":9228,"headPos":9227,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"content":"]"},{"tailPos":9228,"headPos":9094,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (𝓓 a 𝒜) = card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"content":"rw [compression, card_disjUnion, image_filter,\n    card_image_of_injOn ((erase_injOn' _).mono fun s hs => _), ← card_disjoint_union]"},{"tailPos":9233,"headPos":9231,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜"],"content":"·"},{"tailPos":9317,"headPos":9250,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter (fun a_1 => ¬erase a_1 a ∈ 𝒜) 𝒜)"],"content":"← filter_union_filter_neg_eq (fun s => (erase s a ∈ 𝒜)) 𝒜"},{"tailPos":9318,"headPos":9246,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card 𝒜"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n| card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter (fun a_1 => ¬erase a_1 a ∈ 𝒜) 𝒜)"],"content":"rw [← filter_union_filter_neg_eq (fun s => (erase s a ∈ 𝒜)) 𝒜]"},{"tailPos":9318,"headPos":9234,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜"],"goalsAfter":[],"content":"conv_rhs => rw [← filter_union_filter_neg_eq (fun s => (erase s a ∈ 𝒜)) 𝒜]"},{"tailPos":9318,"headPos":9231,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (filter (fun s => erase s a ∈ 𝒜) 𝒜 ∪ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) = card 𝒜","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"content":"· conv_rhs => rw [← filter_union_filter_neg_eq (fun s => (erase s a ∈ 𝒜)) 𝒜]"},{"tailPos":9323,"headPos":9321,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)"],"content":"·"},{"tailPos":9398,"headPos":9324,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)"],"goalsAfter":[],"content":"exact disjoint_filter_filter_neg 𝒜 𝒜 (fun s => (erase s a ∈ 𝒜))"},{"tailPos":9398,"headPos":9321,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ Disjoint (filter (fun s => erase s a ∈ 𝒜) 𝒜) (filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)","α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"content":"· exact disjoint_filter_filter_neg 𝒜 𝒜 (fun s => (erase s a ∈ 𝒜))"},{"tailPos":9411,"headPos":9401,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ ∀ (s : Finset α), s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜) → s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)\n⊢ s ∈ {s | a ∈ s}"],"content":"intro s hs"},{"tailPos":9426,"headPos":9418,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)\n⊢ s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜\n⊢ s ∈ {s | a ∈ s}"],"content":"mem_coe,"},{"tailPos":9438,"headPos":9427,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜\n⊢ s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) s\n⊢ s ∈ {s | a ∈ s}"],"content":"mem_filter,"},{"tailPos":9458,"headPos":9439,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) s\n⊢ s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ¬erase s a ∈ 𝒜\n⊢ s ∈ {s | a ∈ s}"],"content":"Function.comp_apply"},{"tailPos":9459,"headPos":9458,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ¬erase s a ∈ 𝒜\n⊢ s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ¬erase s a ∈ 𝒜\n⊢ s ∈ {s | a ∈ s}"],"content":"]"},{"tailPos":9465,"headPos":9414,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ ↑(filter ((fun s => ¬s ∈ 𝒜) ∘ fun s => erase s a) 𝒜)\n⊢ s ∈ {s | a ∈ s}"],"goalsAfter":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ¬erase s a ∈ 𝒜\n⊢ s ∈ {s | a ∈ s}"],"content":"rw [mem_coe, mem_filter, Function.comp_apply] at hs"},{"tailPos":9546,"headPos":9468,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns✝ : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\ns : Finset α\nhs : s ∈ 𝒜 ∧ ¬erase s a ∈ 𝒜\n⊢ s ∈ {s | a ∈ s}"],"goalsAfter":[],"content":"exact not_imp_comm.1 erase_eq_of_not_mem (ne_of_mem_of_not_mem hs.1 hs.2).symm"},{"tailPos":9546,"headPos":9094,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (𝓓 a 𝒜) = card 𝒜"],"goalsAfter":[],"content":"rw [compression, card_disjUnion, image_filter,\n    card_image_of_injOn ((erase_injOn' _).mono fun s hs => _), ← card_disjoint_union]\n  · conv_rhs => rw [← filter_union_filter_neg_eq (fun s => (erase s a ∈ 𝒜)) 𝒜]\n  · exact disjoint_filter_filter_neg 𝒜 𝒜 (fun s => (erase s a ∈ 𝒜))\n  intro s hs\n  rw [mem_coe, mem_filter, Function.comp_apply] at hs\n  exact not_imp_comm.1 erase_eq_of_not_mem (ne_of_mem_of_not_mem hs.1 hs.2).symm"},{"tailPos":9091,"headPos":9089,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (𝓓 a 𝒜) = card 𝒜"],"goalsAfter":[],"content":"by"},{"tailPos":9546,"headPos":9089,"goalsBefore":["α : Type u_1\ninst✝ : DecidableEq α\n𝒜✝ ℬ : Finset (Finset α)\ns : Finset α\na✝ a : α\n𝒜 : Finset (Finset α)\n⊢ card (𝓓 a 𝒜) = card 𝒜"],"goalsAfter":[],"content":"by\n  rw [compression, card_disjUnion, image_filter,\n    card_image_of_injOn ((erase_injOn' _).mono fun s hs => _), ← card_disjoint_union]\n  · conv_rhs => rw [← filter_union_filter_neg_eq (fun s => (erase s a ∈ 𝒜)) 𝒜]\n  · exact disjoint_filter_filter_neg 𝒜 𝒜 (fun s => (erase s a ∈ 𝒜))\n  intro s hs\n  rw [mem_coe, mem_filter, Function.comp_apply] at hs\n  exact not_imp_comm.1 erase_eq_of_not_mem (ne_of_mem_of_not_mem hs.1 hs.2).symm"}]