[{"tailPos":5031,"headPos":4980,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nhb : card t • b < ∑ x in s, w x\n⊢ ∑ i in t, b < ∑ i in t, ∑ x in filter (fun x => f x = i) s, w x"],"goalsAfter":[],"content":"simpa only [sum_const, sum_fiberwise_of_maps_to hf]"},{"tailPos":4979,"headPos":4977,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nhb : card t • b < ∑ x in s, w x\n⊢ ∑ i in t, b < ∑ i in t, ∑ x in filter (fun x => f x = i) s, w x"],"goalsAfter":[],"content":"by"},{"tailPos":5031,"headPos":4977,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nhb : card t • b < ∑ x in s, w x\n⊢ ∑ i in t, b < ∑ i in t, ∑ x in filter (fun x => f x = i) s, w x"],"goalsAfter":[],"content":"by simpa only [sum_fiberwise_of_maps_to hf, sum_const]"},{"tailPos":6612,"headPos":6607,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nht : ∀ (y : β), ¬y ∈ t → ∑ x in filter (fun x => f x = y) s, w x ≤ 0\nhb : card t • b < ∑ x in s, w x\n⊢ ∑ _y in t, b < ∑ x in s, w x"],"goalsAfter":[],"content":"simpa only [sum_const]"},{"tailPos":6606,"headPos":6604,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nht : ∀ (y : β), ¬y ∈ t → ∑ x in filter (fun x => f x = y) s, w x ≤ 0\nhb : card t • b < ∑ x in s, w x\n⊢ ∑ _y in t, b < ∑ x in s, w x"],"goalsAfter":[],"content":"by"},{"tailPos":6612,"headPos":6604,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nht : ∀ (y : β), ¬y ∈ t → ∑ x in filter (fun x => f x = y) s, w x ≤ 0\nhb : card t • b < ∑ x in s, w x\n⊢ ∑ _y in t, b < ∑ x in s, w x"],"goalsAfter":[],"content":"by simpa"},{"tailPos":8456,"headPos":8405,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ x in s, w x\n⊢ ∑ i in t, b ≤ ∑ i in t, ∑ x in filter (fun x => f x = i) s, w x"],"goalsAfter":[],"content":"simpa only [sum_const, sum_fiberwise_of_maps_to hf]"},{"tailPos":8404,"headPos":8402,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ x in s, w x\n⊢ ∑ i in t, b ≤ ∑ i in t, ∑ x in filter (fun x => f x = i) s, w x"],"goalsAfter":[],"content":"by"},{"tailPos":8456,"headPos":8402,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ x in s, w x\n⊢ ∑ i in t, b ≤ ∑ i in t, ∑ x in filter (fun x => f x = i) s, w x"],"goalsAfter":[],"content":"by simpa only [sum_fiberwise_of_maps_to hf, sum_const]"},{"tailPos":10153,"headPos":10148,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (y : β), ¬y ∈ t → ∑ x in filter (fun x => f x = y) s, w x ≤ 0\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ x in s, w x\n⊢ ∑ _y in t, b ≤ ∑ x in s, w x"],"goalsAfter":[],"content":"simpa only [sum_const]"},{"tailPos":10147,"headPos":10145,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (y : β), ¬y ∈ t → ∑ x in filter (fun x => f x = y) s, w x ≤ 0\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ x in s, w x\n⊢ ∑ _y in t, b ≤ ∑ x in s, w x"],"goalsAfter":[],"content":"by"},{"tailPos":10153,"headPos":10145,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCancelAddCommMonoid M\nhf : ∀ (y : β), ¬y ∈ t → ∑ x in filter (fun x => f x = y) s, w x ≤ 0\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ x in s, w x\n⊢ ∑ _y in t, b ≤ ∑ x in s, w x"],"goalsAfter":[],"content":"by simpa"},{"tailPos":12769,"headPos":12760,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"content":"simp_rw ["},{"tailPos":12778,"headPos":12769,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ∑ a in s, 1\n⊢ ∃ y, y ∈ t ∧ b < ∑ a in filter (fun x => f x = y) s, 1"],"content":"simp only [cast_card] at ht ⊢"},{"tailPos":12788,"headPos":12760,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ∑ a in s, 1\n⊢ ∃ y, y ∈ t ∧ b < ∑ a in filter (fun x => f x = y) s, 1"],"content":"simp_rw [cast_card] at ht⊢"},{"tailPos":12849,"headPos":12791,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ∑ a in s, 1\n⊢ ∃ y, y ∈ t ∧ b < ∑ a in filter (fun x => f x = y) s, 1"],"goalsAfter":[],"content":"exact exists_lt_sum_fiber_of_maps_to_of_nsmul_lt_sum hf ht"},{"tailPos":12849,"headPos":12760,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":[],"content":"simp_rw [cast_card] at ht⊢\n  exact exists_lt_sum_fiber_of_maps_to_of_nsmul_lt_sum hf ht"},{"tailPos":12757,"headPos":12755,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":[],"content":"by"},{"tailPos":12849,"headPos":12755,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : card t • b < ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b < ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":[],"content":"by\n  simp_rw [cast_card] at ht⊢\n  exact exists_lt_sum_fiber_of_maps_to_of_nsmul_lt_sum hf ht"},{"tailPos":14131,"headPos":14122,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"content":"simp_rw ["},{"tailPos":14140,"headPos":14131,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ∑ a in s, 1 < card t • b\n⊢ ∃ y, y ∈ t ∧ ∑ a in filter (fun x => f x = y) s, 1 < b"],"content":"simp only [cast_card] at ht ⊢"},{"tailPos":14150,"headPos":14122,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ∑ a in s, 1 < card t • b\n⊢ ∃ y, y ∈ t ∧ ∑ a in filter (fun x => f x = y) s, 1 < b"],"content":"simp_rw [cast_card] at ht⊢"},{"tailPos":14274,"headPos":14153,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ∑ a in s, 1 < card t • b\n⊢ ∃ y, y ∈ t ∧ ∑ a in filter (fun x => f x = y) s, 1 < b"],"goalsAfter":[],"content":"exact\n    exists_sum_fiber_lt_of_sum_fiber_nonneg_of_sum_lt_nsmul\n      (fun _ _ => sum_nonneg fun _ _ => zero_le_one) ht"},{"tailPos":14274,"headPos":14122,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"goalsAfter":[],"content":"simp_rw [cast_card] at ht⊢\n  exact\n    exists_sum_fiber_lt_of_sum_fiber_nonneg_of_sum_lt_nsmul\n      (fun _ _ => sum_nonneg fun _ _ => zero_le_one) ht"},{"tailPos":14119,"headPos":14117,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"goalsAfter":[],"content":"by"},{"tailPos":14274,"headPos":14117,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : ↑(card s) < card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) < b"],"goalsAfter":[],"content":"by\n  simp_rw [cast_card] at ht⊢\n  exact\n    exists_sum_fiber_lt_of_sum_fiber_nonneg_of_sum_lt_nsmul\n      (fun _ _ => sum_nonneg fun _ _ => zero_le_one) ht"},{"tailPos":15706,"headPos":15697,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"content":"simp_rw ["},{"tailPos":15715,"headPos":15706,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ a in s, 1\n⊢ ∃ y, y ∈ t ∧ b ≤ ∑ a in filter (fun x => f x = y) s, 1"],"content":"simp only [cast_card] at hb ⊢"},{"tailPos":15725,"headPos":15697,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ a in s, 1\n⊢ ∃ y, y ∈ t ∧ b ≤ ∑ a in filter (fun x => f x = y) s, 1"],"content":"simp_rw [cast_card] at hb⊢"},{"tailPos":15789,"headPos":15728,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ∑ a in s, 1\n⊢ ∃ y, y ∈ t ∧ b ≤ ∑ a in filter (fun x => f x = y) s, 1"],"goalsAfter":[],"content":"exact exists_le_sum_fiber_of_maps_to_of_nsmul_le_sum hf ht hb"},{"tailPos":15789,"headPos":15697,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":[],"content":"simp_rw [cast_card] at hb⊢\n  exact exists_le_sum_fiber_of_maps_to_of_nsmul_le_sum hf ht hb"},{"tailPos":15694,"headPos":15692,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":[],"content":"by"},{"tailPos":15789,"headPos":15692,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nhf : ∀ (a : α), a ∈ s → f a ∈ t\nht : Finset.Nonempty t\nhb : card t • b ≤ ↑(card s)\n⊢ ∃ y, y ∈ t ∧ b ≤ ↑(card (filter (fun x => f x = y) s))"],"goalsAfter":[],"content":"by\n  simp_rw [cast_card] at hb⊢\n  exact exists_le_sum_fiber_of_maps_to_of_nsmul_le_sum hf ht hb"},{"tailPos":17156,"headPos":17147,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"content":"simp_rw ["},{"tailPos":17165,"headPos":17156,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ∑ a in s, 1 ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ∑ a in filter (fun x => f x = y) s, 1 ≤ b"],"content":"simp only [cast_card] at hb ⊢"},{"tailPos":17175,"headPos":17147,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"goalsAfter":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ∑ a in s, 1 ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ∑ a in filter (fun x => f x = y) s, 1 ≤ b"],"content":"simp_rw [cast_card] at hb⊢"},{"tailPos":17304,"headPos":17178,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ∑ a in s, 1 ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ∑ a in filter (fun x => f x = y) s, 1 ≤ b"],"goalsAfter":[],"content":"refine'\n    exists_sum_fiber_le_of_sum_fiber_nonneg_of_sum_le_nsmul\n      (fun _ _ => sum_nonneg fun _ _ => zero_le_one) ht hb"},{"tailPos":17304,"headPos":17147,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"goalsAfter":[],"content":"simp_rw [cast_card] at hb⊢\n  refine'\n    exists_sum_fiber_le_of_sum_fiber_nonneg_of_sum_le_nsmul\n      (fun _ _ => sum_nonneg fun _ _ => zero_le_one) ht hb"},{"tailPos":17144,"headPos":17142,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"goalsAfter":[],"content":"by"},{"tailPos":17304,"headPos":17142,"goalsBefore":["α : Type u\nβ : Type v\nM : Type w\ninst✝¹ : DecidableEq β\ns : Finset α\nt : Finset β\nf : α → β\nw : α → M\nb : M\nn : ℕ\ninst✝ : LinearOrderedCommSemiring M\nht : Finset.Nonempty t\nhb : ↑(card s) ≤ card t • b\n⊢ ∃ y, y ∈ t ∧ ↑(card (filter (fun x => f x = y) s)) ≤ b"],"goalsAfter":[],"content":"by\n  simp_rw [cast_card] at hb⊢\n  refine'\n    exists_sum_fiber_le_of_sum_fiber_nonneg_of_sum_le_nsmul\n      (fun _ _ => sum_nonneg fun _ _ => zero_le_one) ht hb"}]