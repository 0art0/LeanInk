[{"tailPos":1697,"headPos":1615,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ 0 ≤ energy P G"],"goalsAfter":[],"content":"refine' div_nonneg (Finset.sum_nonneg fun _ _ => sq_nonneg _) <| Nat.cast_nonneg _"},{"tailPos":1612,"headPos":1610,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ 0 ≤ energy P G"],"goalsAfter":[],"content":"by"},{"tailPos":1697,"headPos":1610,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ 0 ≤ energy P G"],"goalsAfter":[],"content":"by\n  refine' div_nonneg (Finset.sum_nonneg fun _ _ => sq_nonneg _) <| Nat.cast_nonneg _"},{"tailPos":2213,"headPos":2200,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card (offDiag P.parts)) ≤ 1 * ↑(card P.parts ^ 2)"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ 1 * ↑(card P.parts ^ 2)"],"content":"offDiag_card,"},{"tailPos":2221,"headPos":2214,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ 1 * ↑(card P.parts ^ 2)"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ ↑(card P.parts ^ 2)"],"content":"one_mul"},{"tailPos":2222,"headPos":2221,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ ↑(card P.parts ^ 2)"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ ↑(card P.parts ^ 2)"],"content":"]"},{"tailPos":2222,"headPos":2196,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card (offDiag P.parts)) ≤ 1 * ↑(card P.parts ^ 2)"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ ↑(card P.parts ^ 2)"],"content":"rw [offDiag_card, one_mul]"},{"tailPos":2240,"headPos":2231,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card P.parts * card P.parts - card P.parts) ≤ ↑(card P.parts ^ 2)"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts ^ 2"],"content":"norm_cast"},{"tailPos":2255,"headPos":2253,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts ^ 2"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts * card P.parts"],"content":"sq"},{"tailPos":2256,"headPos":2255,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts * card P.parts"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts * card P.parts"],"content":"]"},{"tailPos":2256,"headPos":2249,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts ^ 2"],"goalsAfter":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts * card P.parts"],"content":"rw [sq]"},{"tailPos":2283,"headPos":2265,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ card P.parts * card P.parts - card P.parts ≤ card P.parts * card P.parts"],"goalsAfter":[],"content":"exact tsub_le_self"},{"tailPos":2283,"headPos":2196,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card (offDiag P.parts)) ≤ 1 * ↑(card P.parts ^ 2)"],"goalsAfter":[],"content":"rw [offDiag_card, one_mul]\n        norm_cast\n        rw [sq]\n        exact tsub_le_self"},{"tailPos":2187,"headPos":2185,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card (offDiag P.parts)) ≤ 1 * ↑(card P.parts ^ 2)"],"goalsAfter":[],"content":"by"},{"tailPos":2283,"headPos":2185,"goalsBefore":["α : Type u_1\ninst✝¹ : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝ : DecidableRel G.Adj\n⊢ ↑(card (offDiag P.parts)) ≤ 1 * ↑(card P.parts ^ 2)"],"goalsAfter":[],"content":"by\n        rw [offDiag_card, one_mul]\n        norm_cast\n        rw [sq]\n        exact tsub_le_self"},{"tailPos":2579,"headPos":2573,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑(energy P G) = ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"content":"energy"},{"tailPos":2580,"headPos":2579,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"content":"]"},{"tailPos":2580,"headPos":2569,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑(energy P G) = ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"content":"rw [energy]"},{"tailPos":2581,"headPos":2580,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"content":";"},{"tailPos":2591,"headPos":2582,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑((∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(card P.parts ^ 2)) =\n    ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":[],"content":"norm_cast"},{"tailPos":2591,"headPos":2569,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑(energy P G) = ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":[],"content":"rw [energy]; norm_cast"},{"tailPos":2568,"headPos":2566,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑(energy P G) = ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":[],"content":"by"},{"tailPos":2591,"headPos":2566,"goalsBefore":["α : Type u_2\ninst✝² : DecidableEq α\ns : Finset α\nP : Finpartition s\nG : SimpleGraph α\ninst✝¹ : DecidableRel G.Adj\n𝕜 : Type u_1\ninst✝ : LinearOrderedField 𝕜\n⊢ ↑(energy P G) = ↑(∑ uv in offDiag P.parts, SimpleGraph.edgeDensity G uv.fst uv.snd ^ 2) / ↑(↑(card P.parts) ^ 2)"],"goalsAfter":[],"content":"by rw [energy]; norm_cast"}]